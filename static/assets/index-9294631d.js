import{S as x}from"./TextViewer-55100237.js";import"./useSetting-78313f06.js";import"./request-7014ab81.js";import"./index-008199ed.js";import"./index-4ea0a277.js";import"./path-229a1735.js";import"./base-00eb0fe9.js";import"./dialog-9877e468.js";import"./index-8286893b.js";import"./vnode-5e2fd68e.js";import"./scroll-374ad3fb.js";import"./button-30635c71.js";import"./overlay-64b24548.js";import"./refs-9142934b.js";/* empty css                     *//* empty css               *//* empty css                  */import"./dropdown-item-28606bba.js";import"./index-60380bfa.js";import"./index-0da14aee.js";import"./dropdown-40114633.js";import"./input-73d413ba.js";import"./_initCloneObject-ffec0ace.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./index-c0734d0a.js";import"./validator-38288ad7.js";import"./index-9e699d2b.js";import"./directive-20abcd4b.js";import"./select-275ec4c7.js";import"./index-dc7d0be4.js";import"./strings-535b4609.js";import"./debounce-3f0c1a7c.js";import"./index-293710b7.js";import"./common-9b97199d.js";function k(e){for(var i={},n=0,o=e.length;n<o;++n)i[e[n]]=!0;return i}var v=["alias","and","BEGIN","begin","break","case","class","def","defined?","do","else","elsif","END","end","ensure","false","for","if","in","module","next","not","or","redo","rescue","retry","return","self","super","then","true","undef","unless","until","when","while","yield","nil","raise","throw","catch","fail","loop","callcc","caller","lambda","proc","public","protected","private","require","load","require_relative","extend","autoload","__END__","__FILE__","__LINE__","__dir__"],z=k(v),b=k(["def","class","case","for","while","until","module","catch","loop","proc","begin"]),g=k(["end","until"]),h={"[":"]","{":"}","(":")"},_={"]":"[","}":"{",")":"("},l;function p(e,i,n){return n.tokenize.push(e),e(i,n)}function d(e,i){if(e.sol()&&e.match("=begin")&&e.eol())return i.tokenize.push(E),"comment";if(e.eatSpace())return null;var n=e.next(),o;if(n=="`"||n=="'"||n=='"')return p(c(n,"string",n=='"'||n=="`"),e,i);if(n=="/")return y(e)?p(c(n,"string.special",!0),e,i):"operator";if(n=="%"){var t="string",r=!0;e.eat("s")?t="atom":e.eat(/[WQ]/)?t="string":e.eat(/[r]/)?t="string.special":e.eat(/[wxq]/)&&(t="string",r=!1);var f=e.eat(/[^\w\s=]/);return f?(h.propertyIsEnumerable(f)&&(f=h[f]),p(c(f,t,r,!0),e,i)):"operator"}else{if(n=="#")return e.skipToEnd(),"comment";if(n=="<"&&(o=e.match(/^<([-~])[\`\"\']?([a-zA-Z_?]\w*)[\`\"\']?(?:;|$)/)))return p(w(o[2],o[1]),e,i);if(n=="0")return e.eat("x")?e.eatWhile(/[\da-fA-F]/):e.eat("b")?e.eatWhile(/[01]/):e.eatWhile(/[0-7]/),"number";if(/\d/.test(n))return e.match(/^[\d_]*(?:\.[\d_]+)?(?:[eE][+\-]?[\d_]+)?/),"number";if(n=="?"){for(;e.match(/^\\[CM]-/););return e.eat("\\")?e.eatWhile(/\w/):e.next(),"string"}else{if(n==":")return e.eat("'")?p(c("'","atom",!1),e,i):e.eat('"')?p(c('"',"atom",!0),e,i):e.eat(/[\<\>]/)?(e.eat(/[\<\>]/),"atom"):e.eat(/[\+\-\*\/\&\|\:\!]/)?"atom":e.eat(/[a-zA-Z$@_\xa1-\uffff]/)?(e.eatWhile(/[\w$\xa1-\uffff]/),e.eat(/[\?\!\=]/),"atom"):"operator";if(n=="@"&&e.match(/^@?[a-zA-Z_\xa1-\uffff]/))return e.eat("@"),e.eatWhile(/[\w\xa1-\uffff]/),"propertyName";if(n=="$")return e.eat(/[a-zA-Z_]/)?e.eatWhile(/[\w]/):e.eat(/\d/)?e.eat(/\d/):e.next(),"variableName.special";if(/[a-zA-Z_\xa1-\uffff]/.test(n))return e.eatWhile(/[\w\xa1-\uffff]/),e.eat(/[\?\!]/),e.eat(":")?"atom":"variable";if(n=="|"&&(i.varList||i.lastTok=="{"||i.lastTok=="do"))return l="|",null;if(/[\(\)\[\]{}\\;]/.test(n))return l=n,null;if(n=="-"&&e.eat(">"))return"operator";if(/[=+\-\/*:\.^%<>~|]/.test(n)){var u=e.eatWhile(/[=+\-\/*:\.^%<>~|]/);return n=="."&&!u&&(l="."),"operator"}else return null}}}function y(e){for(var i=e.pos,n=0,o,t=!1,r=!1;(o=e.next())!=null;)if(r)r=!1;else{if("[{(".indexOf(o)>-1)n++;else if("]})".indexOf(o)>-1){if(n--,n<0)break}else if(o=="/"&&n==0){t=!0;break}r=o=="\\"}return e.backUp(e.pos-i),t}function a(e){return e||(e=1),function(i,n){if(i.peek()=="}"){if(e==1)return n.tokenize.pop(),n.tokenize[n.tokenize.length-1](i,n);n.tokenize[n.tokenize.length-1]=a(e-1)}else i.peek()=="{"&&(n.tokenize[n.tokenize.length-1]=a(e+1));return d(i,n)}}function s(){var e=!1;return function(i,n){return e?(n.tokenize.pop(),n.tokenize[n.tokenize.length-1](i,n)):(e=!0,d(i,n))}}function c(e,i,n,o){return function(t,r){var f=!1,u;for(r.context.type==="read-quoted-paused"&&(r.context=r.context.prev,t.eat("}"));(u=t.next())!=null;){if(u==e&&(o||!f)){r.tokenize.pop();break}if(n&&u=="#"&&!f){if(t.eat("{")){e=="}"&&(r.context={prev:r.context,type:"read-quoted-paused"}),r.tokenize.push(a());break}else if(/[@\$]/.test(t.peek())){r.tokenize.push(s());break}}f=!f&&u=="\\"}return i}}function w(e,i){return function(n,o){return i&&n.eatSpace(),n.match(e)?o.tokenize.pop():n.skipToEnd(),"string"}}function E(e,i){return e.sol()&&e.match("=end")&&e.eol()&&i.tokenize.pop(),e.skipToEnd(),"comment"}const L={name:"ruby",startState:function(e){return{tokenize:[d],indented:0,context:{type:"top",indented:-e},continuedLine:!1,lastTok:null,varList:!1}},token:function(e,i){l=null,e.sol()&&(i.indented=e.indentation());var n=i.tokenize[i.tokenize.length-1](e,i),o,t=l;if(n=="variable"){var r=e.current();n=i.lastTok=="."?"property":z.propertyIsEnumerable(e.current())?"keyword":/^[A-Z]/.test(r)?"tag":i.lastTok=="def"||i.lastTok=="class"||i.varList?"def":"variable",n=="keyword"&&(t=r,b.propertyIsEnumerable(r)?o="indent":g.propertyIsEnumerable(r)?o="dedent":((r=="if"||r=="unless")&&e.column()==e.indentation()||r=="do"&&i.context.indented<i.indented)&&(o="indent"))}return(l||n&&n!="comment")&&(i.lastTok=t),l=="|"&&(i.varList=!i.varList),o=="indent"||/[\(\[\{]/.test(l)?i.context={prev:i.context,type:l||n,indented:i.indented}:(o=="dedent"||/[\)\]\}]/.test(l))&&i.context.prev&&(i.context=i.context.prev),e.eol()&&(i.continuedLine=l=="\\"||n=="operator"),n},indent:function(e,i,n){if(e.tokenize[e.tokenize.length-1]!=d)return null;var o=i&&i.charAt(0),t=e.context,r=t.type==_[o]||t.type=="keyword"&&/^(?:end|until|else|elsif|when|rescue)\b/.test(i);return t.indented+(r?0:n.unit)+(e.continuedLine?n.unit:0)},languageData:{indentOnInput:/^\s*(?:end|rescue|elsif|else|\})$/,commentTokens:{line:"#"},autocomplete:v}};function le(){return x.define(L)}export{le as default};
