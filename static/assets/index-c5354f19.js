import{S}from"./TextViewer-55100237.js";import"./useSetting-78313f06.js";import"./request-7014ab81.js";import"./index-008199ed.js";import"./index-4ea0a277.js";import"./path-229a1735.js";import"./base-00eb0fe9.js";import"./dialog-9877e468.js";import"./index-8286893b.js";import"./vnode-5e2fd68e.js";import"./scroll-374ad3fb.js";import"./button-30635c71.js";import"./overlay-64b24548.js";import"./refs-9142934b.js";/* empty css                     *//* empty css               *//* empty css                  */import"./dropdown-item-28606bba.js";import"./index-60380bfa.js";import"./index-0da14aee.js";import"./dropdown-40114633.js";import"./input-73d413ba.js";import"./_initCloneObject-ffec0ace.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./index-c0734d0a.js";import"./validator-38288ad7.js";import"./index-9e699d2b.js";import"./directive-20abcd4b.js";import"./select-275ec4c7.js";import"./index-dc7d0be4.js";import"./strings-535b4609.js";import"./debounce-3f0c1a7c.js";import"./index-293710b7.js";import"./common-9b97199d.js";var W=["-type","-spec","-export_type","-opaque"],x=["after","begin","catch","case","cond","end","fun","if","let","of","query","receive","try","when"],z=/[\->,;]/,E=["->",";",","],T=["and","andalso","band","bnot","bor","bsl","bsr","bxor","div","not","or","orelse","rem","xor"],R=/[\+\-\*\/<>=\|:!]/,A=["=","+","-","*","/",">",">=","<","=<","=:=","==","=/=","/=","||","<-","!"],U=/[<\(\[\{]/,b=["<<","(","[","{"],Z=/[>\)\]\}]/,y=["}","]",")",">>"],P=["is_atom","is_binary","is_bitstring","is_boolean","is_float","is_function","is_integer","is_list","is_number","is_pid","is_port","is_record","is_reference","is_tuple","atom","binary","bitstring","boolean","function","integer","list","number","pid","port","record","reference","tuple"],q=["abs","adler32","adler32_combine","alive","apply","atom_to_binary","atom_to_list","binary_to_atom","binary_to_existing_atom","binary_to_list","binary_to_term","bit_size","bitstring_to_list","byte_size","check_process_code","contact_binary","crc32","crc32_combine","date","decode_packet","delete_module","disconnect_node","element","erase","exit","float","float_to_list","garbage_collect","get","get_keys","group_leader","halt","hd","integer_to_list","internal_bif","iolist_size","iolist_to_binary","is_alive","is_atom","is_binary","is_bitstring","is_boolean","is_float","is_function","is_integer","is_list","is_number","is_pid","is_port","is_process_alive","is_record","is_reference","is_tuple","length","link","list_to_atom","list_to_binary","list_to_bitstring","list_to_existing_atom","list_to_float","list_to_integer","list_to_pid","list_to_tuple","load_module","make_ref","module_loaded","monitor_node","node","node_link","node_unlink","nodes","notalive","now","open_port","pid_to_list","port_close","port_command","port_connect","port_control","pre_loaded","process_flag","process_info","processes","purge_module","put","register","registered","round","self","setelement","size","spawn","spawn_link","spawn_monitor","spawn_opt","split_binary","statistics","term_to_binary","time","throw","tl","trunc","tuple_size","tuple_to_list","unlink","unregister","whereis"],_=/[\w@Ø-ÞÀ-Öß-öø-ÿ]/,j=/[0-7]{1,3}|[bdefnrstv\\"']|\^[a-zA-Z]|x[0-9a-zA-Z]{2}|x{[0-9a-zA-Z]+}/;function Q(e,r){if(r.in_string)return r.in_string=!v(e),t(r,e,"string");if(r.in_atom)return r.in_atom=!h(e),t(r,e,"atom");if(e.eatSpace())return t(r,e,"whitespace");if(!p(r)&&e.match(/-\s*[a-zß-öø-ÿ][\wØ-ÞÀ-Öß-öø-ÿ]*/))return u(e.current(),W)?t(r,e,"type"):t(r,e,"attribute");var n=e.next();if(n=="%")return e.skipToEnd(),t(r,e,"comment");if(n==":")return t(r,e,"colon");if(n=="?")return e.eatSpace(),e.eatWhile(_),t(r,e,"macro");if(n=="#")return e.eatSpace(),e.eatWhile(_),t(r,e,"record");if(n=="$")return e.next()=="\\"&&!e.match(j)?t(r,e,"error"):t(r,e,"number");if(n==".")return t(r,e,"dot");if(n=="'"){if(!(r.in_atom=!h(e))){if(e.match(/\s*\/\s*[0-9]/,!1))return e.match(/\s*\/\s*[0-9]/,!0),t(r,e,"fun");if(e.match(/\s*\(/,!1)||e.match(/\s*:/,!1))return t(r,e,"function")}return t(r,e,"atom")}if(n=='"')return r.in_string=!v(e),t(r,e,"string");if(/[A-Z_Ø-ÞÀ-Ö]/.test(n))return e.eatWhile(_),t(r,e,"variable");if(/[a-z_ß-öø-ÿ]/.test(n)){if(e.eatWhile(_),e.match(/\s*\/\s*[0-9]/,!1))return e.match(/\s*\/\s*[0-9]/,!0),t(r,e,"fun");var i=e.current();return u(i,x)?t(r,e,"keyword"):u(i,T)?t(r,e,"operator"):e.match(/\s*\(/,!1)?u(i,q)&&(p(r).token!=":"||p(r,2).token=="erlang")?t(r,e,"builtin"):u(i,P)?t(r,e,"guard"):t(r,e,"function"):D(e)==":"?i=="erlang"?t(r,e,"builtin"):t(r,e,"function"):u(i,["true","false"])?t(r,e,"boolean"):t(r,e,"atom")}var l=/[0-9]/,o=/[0-9a-zA-Z]/;return l.test(n)?(e.eatWhile(l),e.eat("#")?e.eatWhile(o)||e.backUp(1):e.eat(".")&&(e.eatWhile(l)?e.eat(/[eE]/)&&(e.eat(/[-+]/)?e.eatWhile(l)||e.backUp(2):e.eatWhile(l)||e.backUp(1)):e.backUp(1)),t(r,e,"number")):g(e,U,b)?t(r,e,"open_paren"):g(e,Z,y)?t(r,e,"close_paren"):k(e,z,E)?t(r,e,"separator"):k(e,R,A)?t(r,e,"operator"):t(r,e,null)}function g(e,r,n){if(e.current().length==1&&r.test(e.current())){for(e.backUp(1);r.test(e.peek());)if(e.next(),u(e.current(),n))return!0;e.backUp(e.current().length-1)}return!1}function k(e,r,n){if(e.current().length==1&&r.test(e.current())){for(;r.test(e.peek());)e.next();for(;0<e.current().length;){if(u(e.current(),n))return!0;e.backUp(1)}e.next()}return!1}function v(e){return m(e,'"',"\\")}function h(e){return m(e,"'","\\")}function m(e,r,n){for(;!e.eol();){var i=e.next();if(i==r)return!0;i==n&&e.next()}return!1}function D(e){var r=e.match(/^\s*([^\s%])/,!1);return r?r[1]:""}function u(e,r){return-1<r.indexOf(e)}function t(e,r,n){switch(N(e,I(n,r)),n){case"atom":return"atom";case"attribute":return"attribute";case"boolean":return"atom";case"builtin":return"builtin";case"close_paren":return null;case"colon":return null;case"comment":return"comment";case"dot":return null;case"error":return"error";case"fun":return"meta";case"function":return"tag";case"guard":return"property";case"keyword":return"keyword";case"macro":return"macroName";case"number":return"number";case"open_paren":return null;case"operator":return"operator";case"record":return"bracket";case"separator":return null;case"string":return"string";case"type":return"def";case"variable":return"variable";default:return null}}function w(e,r,n,i){return{token:e,column:r,indent:n,type:i}}function I(e,r){return w(r.current(),r.column(),r.indentation(),e)}function L(e){return w(e,0,0,e)}function p(e,r){var n=e.tokenStack.length,i=r||1;return n<i?!1:e.tokenStack[n-i]}function N(e,r){r.type=="comment"||r.type=="whitespace"||(e.tokenStack=O(e.tokenStack,r),e.tokenStack=$(e.tokenStack))}function O(e,r){var n=e.length-1;return 0<n&&e[n].type==="record"&&r.type==="dot"?e.pop():(0<n&&e[n].type==="group"&&e.pop(),e.push(r)),e}function $(e){if(!e.length)return e;var r=e.length-1;if(e[r].type==="dot")return[];if(r>1&&e[r].type==="fun"&&e[r-1].token==="fun")return e.slice(0,r-1);switch(e[r].token){case"}":return a(e,{g:["{"]});case"]":return a(e,{i:["["]});case")":return a(e,{i:["("]});case">>":return a(e,{i:["<<"]});case"end":return a(e,{i:["begin","case","fun","if","receive","try"]});case",":return a(e,{e:["begin","try","when","->",",","(","[","{","<<"]});case"->":return a(e,{r:["when"],m:["try","if","case","receive"]});case";":return a(e,{E:["case","fun","if","receive","try","when"]});case"catch":return a(e,{e:["try"]});case"of":return a(e,{e:["case"]});case"after":return a(e,{e:["receive","try"]});default:return e}}function a(e,r){for(var n in r)for(var i=e.length-1,l=r[n],o=i-1;-1<o;o--)if(u(e[o].token,l)){var c=e.slice(0,o);switch(n){case"m":return c.concat(e[o]).concat(e[i]);case"r":return c.concat(e[i]);case"i":return c;case"g":return c.concat(L("group"));case"E":return c.concat(e[o]);case"e":return c.concat(e[o])}}return n=="E"?[]:e}function B(e,r,n){var i,l=C(r),o=p(e,1),c=p(e,2);return e.in_string||e.in_atom?null:c?o.token=="when"?o.column+n.unit:l==="when"&&c.type==="function"?c.indent+n.unit:l==="("&&o.token==="fun"?o.column+3:l==="catch"&&(i=s(e,["try"]))?i.column:u(l,["end","after","of"])?(i=s(e,["begin","case","fun","if","receive","try"]),i?i.column:null):u(l,y)?(i=s(e,b),i?i.column:null):u(o.token,[",","|","||"])||u(l,[",","|","||"])?(i=F(e),i?i.column+i.token.length:n.unit):o.token=="->"?u(c.token,["receive","case","if","try"])?c.column+n.unit+n.unit:c.column+n.unit:u(o.token,b)?o.column+o.token.length:(i=G(e),f(i)?i.column+n.unit:0):0}function C(e){var r=e.match(/,|[a-z]+|\}|\]|\)|>>|\|+|\(/);return f(r)&&r.index===0?r[0]:""}function F(e){var r=e.tokenStack.slice(0,-1),n=d(r,"type",["open_paren"]);return f(r[n])?r[n]:!1}function G(e){var r=e.tokenStack,n=d(r,"type",["open_paren","separator","keyword"]),i=d(r,"type",["operator"]);return f(n)&&f(i)&&n<i?r[n+1]:f(n)?r[n]:!1}function s(e,r){var n=e.tokenStack,i=d(n,"token",r);return f(n[i])?n[i]:!1}function d(e,r,n){for(var i=e.length-1;-1<i;i--)if(u(e[i][r],n))return i;return!1}function f(e){return e!==!1&&e!=null}const H={name:"erlang",startState(){return{tokenStack:[],in_string:!1,in_atom:!1}},token:Q,indent:B,languageData:{commentTokens:{line:"%"}}};function Te(){return S.define(H)}export{Te as default};
