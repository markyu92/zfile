import{S as y,R as g,z as L,T as O,x as P}from"./request-7014ab81.js";import{aL as v,c7 as A,bE as m,b5 as x,bF as F,a$ as I,aM as T,K as _,aT as D}from"./index-008199ed.js";var w=1,H=2;function G(n,e,t,r){var s=t.length,o=s,u=!r;if(n==null)return!o;for(n=Object(n);s--;){var i=t[s];if(u&&i[2]?i[1]!==n[i[0]]:!(i[0]in n))return!1}for(;++s<o;){i=t[s];var f=i[0],c=n[f],d=i[1];if(u&&i[2]){if(c===void 0&&!(f in n))return!1}else{var l=new y;if(r)var p=r(c,d,f,n,e,l);if(!(p===void 0?g(d,c,w|H,r,l):p))return!1}}return!0}function C(n){return n===n&&!v(n)}function S(n){for(var e=L(n),t=e.length;t--;){var r=e[t],s=n[r];e[t]=[r,s,C(s)]}return e}function R(n,e){return function(t){return t==null?!1:t[n]===e&&(e!==void 0||n in Object(t))}}function $(n){var e=S(n);return e.length==1&&e[0][2]?R(e[0][0],e[0][1]):function(t){return t===n||G(t,n,e)}}var B=1,K=2;function U(n,e){return A(n)&&C(e)?R(m(n),e):function(t){var r=x(t,n);return r===void 0&&r===e?O(t,n):g(e,r,B|K)}}function N(n){return function(e){return e==null?void 0:e[n]}}function q(n){return function(e){return F(e,n)}}function J(n){return A(n)?N(m(n)):q(n)}function X(n){return typeof n=="function"?n:n==null?P:typeof n=="object"?I(n)?U(n[0],n[1]):$(n):J(n)}const a=new Map;if(T){let n;document.addEventListener("mousedown",e=>n=e),document.addEventListener("mouseup",e=>{if(n){for(const t of a.values())for(const{documentHandler:r}of t)r(e,n);n=void 0}})}function E(n,e){let t=[];return _(e.arg)?t=e.arg:D(e.arg)&&t.push(e.arg),function(r,s){const o=e.instance.popperRef,u=r.target,i=s==null?void 0:s.target,f=!e||!e.instance,c=!u||!i,d=n.contains(u)||n.contains(i),l=n===u,p=t.length&&t.some(h=>h==null?void 0:h.contains(u))||t.length&&t.includes(i),M=o&&(o.contains(u)||o.contains(i));f||c||d||l||p||M||e.value(r,s)}}const Y={beforeMount(n,e){a.has(n)||a.set(n,[]),a.get(n).push({documentHandler:E(n,e),bindingFn:e.value})},updated(n,e){a.has(n)||a.set(n,[]);const t=a.get(n),r=t.findIndex(o=>o.bindingFn===e.oldValue),s={documentHandler:E(n,e),bindingFn:e.value};r>=0?t.splice(r,1,s):t.push(s)},unmounted(n){a.delete(n)}};export{Y as C,X as b};
