System.register(["./index-legacy-e574cec8.js","./dialog-legacy-5ef05c71.js","./overlay-legacy-6ebb9437.js","./button-legacy-f53896dd.js","./form-item-legacy-de8da7e8.js","./input-legacy-bc871eba.js","./admin-storage-legacy-6381f83d.js","./request-legacy-61b983ae.js","./_plugin-vue_export-helper-legacy-8fcf0e06.js"],(function(e,t){"use strict";var n,a,o,l,i,u,r,d,c,m,s,f,g,p,y,v,b,_,h,w,V;return{setters:[function(e){n=e.a4,a=e.r,o=e.a8,l=e.a3,i=e.b,u=e.e,r=e.w,d=e.k,c=e.a0,m=e.f,s=e.i,f=e.a2},function(e){g=e.E},null,function(e){p=e.E},null,function(e){y=e.E,v=e.a},function(e){b=e.e,_=e.f},function(e){h=e.E,w=e.b},function(e){V=e._}],execute:function(){var t=document.createElement("style");t.textContent=".el-dialog[data-v-6d7db6e1]{width:80%}@media (min-width: 640px){.el-dialog[data-v-6d7db6e1]{width:60%}}@media (min-width: 768px){.el-dialog[data-v-6d7db6e1]{width:40%}}@media (min-width: 1024px){.el-dialog[data-v-6d7db6e1]{width:30%}}@media (min-width: 1280px){.el-dialog[data-v-6d7db6e1]{width:20%}}\n",document.head.appendChild(t),e("u",C);var j=n({toName:"",toKey:"",fromId:null}),x={toName:[{required:!0,message:"请输入新存储源名称",trigger:"blur"}],toKey:[{required:!0,message:"请输入新存储源别名",trigger:"blur"},{validator:function(e,t,n){null!=t&&""!==t?o.systemNames.includes(t)?n(new Error("不可占用系统级名称，请修改。")):/^[\w\-]+$/.test(t)?b({storageKey:t}).then((function(e){e.data?n(new Error("该存储源别名已存在，请修改。")):n()})):n(new Error("只允许使用字母、数字、下划线、横杠")):n("请输入存储源别名")}}]},E=a(!1),F=a(!1);function C(){var e=a(null);return{dialogVisible:E,openDialog:function(e){E.value=!0,j.fromId=e.id,j.toKey=e.key,j.toName=e.name},closeDialog:function(){E.value=!1},formData:j,rules:x,storageCopyFormRef:e,submitForm:function(t){F.value=!0,e.value.validate((function(e){e?_(j).then((function(e){h.success("复制成功"),E.value=!1,t("close")})).finally((function(){F.value=!1})):F.value=!1}))},saveLoading:F}}var K={__name:"index",setup:function(e,t){var n=t.emit,a=C(),o=a.dialogVisible,b=a.saveLoading,_=a.formData,h=a.rules,V=a.storageCopyFormRef,j=a.submitForm,x=n,E=l();return function(e,t){var n=w,a=y,l=v,F=p,C=g;return i(),u(C,{"append-to-body":"",title:"复制存储配置",modelValue:m(o),"onUpdate:modelValue":t[5]||(t[5]=function(e){return f(o)?o.value=e:null})},{footer:r((function(){return[d(F,{onClick:t[3]||(t[3]=function(e){return o.value=!1})},{default:r((function(){return t[6]||(t[6]=[c("取 消")])})),_:1,__:[6]}),d(F,{type:"primary",onClick:t[4]||(t[4]=function(e){return m(j)(x)}),loading:m(b)},{default:r((function(){return t[7]||(t[7]=[c("确 定")])})),_:1,__:[7]},8,["loading"])]})),default:r((function(){return[d(l,{onSubmit:t[2]||(t[2]=s((function(){}),["prevent"])),model:m(_),rules:m(h),"label-width":m(E).adminForm.labelWidth,"label-position":m(E).adminForm.labelPosition,size:m(E).adminForm.size,"status-icon":"",class:"z-admin-form",ref_key:"storageCopyFormRef",ref:V},{default:r((function(){return[d(a,{label:"新存储源名称",prop:"toName"},{default:r((function(){return[d(n,{modelValue:m(_).toName,"onUpdate:modelValue":t[0]||(t[0]=function(e){return m(_).toName=e}),placeholder:"请输入新存储源名称"},null,8,["modelValue"])]})),_:1}),d(a,{label:"新存储源别名",prop:"toKey"},{default:r((function(){return[d(n,{modelValue:m(_).toKey,"onUpdate:modelValue":t[1]||(t[1]=function(e){return m(_).toKey=e}),placeholder:"请输入新存储源别名"},null,8,["modelValue"])]})),_:1})]})),_:1},8,["model","rules","label-width","label-position","size"])]})),_:1},8,["modelValue"])}}},N=e("S",V(K,[["__scopeId","data-v-6d7db6e1"]])),k=Object.freeze(Object.defineProperty({__proto__:null,default:N},Symbol.toStringTag,{value:"Module"}));e("i",k)}}}));
