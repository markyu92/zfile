import{b as g,g as v,x as r,_ as k,a4 as E,r as c,ai as B,Z as M,k as a,w as s,f as t,a0 as d,i as N}from"./index-008199ed.js";/* empty css                  */import{E as I}from"./button-30635c71.js";import{E as C,a as R}from"./input-73d413ba.js";/* empty css               *//* empty css                */import{_ as U}from"./zfile-basic-ce5d3448.js";import{i as q,r as z,a as F}from"./install-bbe1534f.js";import{M as A,E as $,b as j}from"./request-7014ab81.js";import{_ as S}from"./_plugin-vue_export-helper-c27b6911.js";import{r as D}from"./DocumentTextIcon-be3b1186.js";import{r as _}from"./QuestionMarkCircleIcon-492baaf8.js";import{r as O}from"./KeyIcon-1b979890.js";import{E as P}from"./index-751f7128.js";import"./index-4ea0a277.js";import"./_initCloneObject-ffec0ace.js";import"./index-60380bfa.js";import"./dropdown-40114633.js";function T(w,m){return g(),v("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75 11.25 15 15 9.75M21 12c0 1.268-.63 2.39-1.593 3.068a3.745 3.745 0 0 1-1.043 3.296 3.745 3.745 0 0 1-3.296 1.043A3.745 3.745 0 0 1 12 21c-1.268 0-2.39-.63-3.068-1.593a3.746 3.746 0 0 1-3.296-1.043 3.745 3.745 0 0 1-1.043-3.296A3.745 3.745 0 0 1 3 12c0-1.268.63-2.39 1.593-3.068a3.745 3.745 0 0 1 1.043-3.296 3.746 3.746 0 0 1 3.296-1.043A3.746 3.746 0 0 1 12 3c1.268 0 2.39.63 3.068 1.593a3.746 3.746 0 0 1 3.296 1.043 3.746 3.746 0 0 1 1.043 3.296A3.745 3.745 0 0 1 21 12Z"})])}const Z={class:"h-full min-h-screen bg-gray-100 text-gray-900 flex justify-center items-center"},G={class:"h-full lg:h-auto max-w-screen-lg bg-white shadow-xl sm:rounded-xl flex flex-1"},H={class:"w-full lg:w-1/2 xl:w-1/2 mt-10 p-6 sm:p-12"},J={class:"mt-0 flex flex-col items-center"},K={class:"w-full flex-1"},L={__name:"index",setup(w){let m=k(),l=E({siteName:"",username:"",password:""}),b=c({siteName:[{required:!0,message:"请输入站点名称",trigger:["change","blur"]}],username:[{required:!0,message:"请输入管理员账号",trigger:["change","blur"]}],password:[{required:!0,message:"请输入管理员密码",trigger:["change","blur"]}]}),f=c(!1),x=c();const h=async()=>{await x.value.validate(i=>{i?(f.value=!0,F(l).then(()=>{A.confirm("系统初始化成功, 点击确定跳转到登录页面。","提示",{confirmButtonText:"确定",showCancelButton:!1,showCloseButton:!1,closeOnClickModal:!1,closeOnPressEscape:!1,type:"success"}).then(()=>{m.push("/login")})}).finally(()=>{f.value=!1})):$.warning("请正确输入初始化值!")})};return B(()=>{q().then(i=>{i.data&&m.push("/")})}),(i,e)=>{const u=P,p=j,n=C,y=I,V=R;return g(),v("div",Z,[r("div",G,[e[10]||(e[10]=r("div",{class:"flex-1 bg-gray-50 text-center hidden lg:flex rounded-l-xl"},[r("div",{class:"m-12 xl:m-16 w-full bg-contain bg-center bg-no-repeat zfile-install-logo"})],-1)),r("div",H,[r("div",J,[e[9]||(e[9]=r("a",{href:"https://github.com/zfile-dev/zfile",target:"_blank",class:"text-2xl mt-0 xl:text-3xl font-extrabold box animate__animated animate__fadeInDown"},[r("img",{class:"w-16 cursor-pointer",src:U})],-1)),r("div",K,[e[8]||(e[8]=M('<div class="my-12 relative" data-v-4707a274><div class="absolute inset-0 flex items-center" aria-hidden="true" data-v-4707a274><div class="w-full border-t text-gray-600" data-v-4707a274></div></div><div class="relative flex justify-center text-sm" data-v-4707a274><span class="px-2 bg-white text-sm leading-none text-gray-600 tracking-wide font-medium" data-v-4707a274> 系统初始化 </span></div></div>',1)),a(V,{rules:t(b),model:t(l),ref_key:"installFormRef",ref:x,class:"zfile-install-form",size:"large",onSubmit:e[3]||(e[3]=N(()=>{},["prevent"]))},{default:s(()=>[a(n,{class:"box animate__animated animate__fadeInUp",prop:"siteName"},{default:s(()=>[a(p,{tabindex:"1",modelValue:t(l).siteName,"onUpdate:modelValue":e[0]||(e[0]=o=>t(l).siteName=o),placeholder:"站点名称","prefix-icon":t(D)},{suffix:s(()=>[a(u,{placement:"left",width:"300",trigger:"hover"},{default:s(()=>e[4]||(e[4]=[d(" 这里填写站点名称，会显示在网站标题上 ")])),reference:s(()=>[a(t(_),{class:"inline w-4 ml-1 -mt-0.5"})]),_:1})]),_:1},8,["modelValue","prefix-icon"])]),_:1}),a(n,{class:"box animate__animated animate__fadeInUp",prop:"username"},{default:s(()=>[a(p,{tabindex:"2",placeholder:"管理员账号","prefix-icon":t(z),modelValue:t(l).username,"onUpdate:modelValue":e[1]||(e[1]=o=>t(l).username=o),modelModifiers:{trim:!0}},{suffix:s(()=>[a(u,{placement:"left",width:"300",trigger:"hover"},{default:s(()=>e[5]||(e[5]=[d(" 这里填写初始化管理员账号, 一会用来登录后台 ")])),reference:s(()=>[a(t(_),{class:"inline w-4 ml-1 -mt-0.5"})]),_:1})]),_:1},8,["prefix-icon","modelValue"])]),_:1}),a(n,{class:"box animate__animated animate__fadeInUp",prop:"password"},{default:s(()=>[a(p,{tabindex:"3",placeholder:"管理员密码",type:"password","show-password":"","prefix-icon":t(O),modelValue:t(l).password,"onUpdate:modelValue":e[2]||(e[2]=o=>t(l).password=o),modelModifiers:{trim:!0}},{suffix:s(()=>[a(u,{placement:"left",width:"300",trigger:"hover"},{default:s(()=>e[6]||(e[6]=[d(" 这里填写初始化管理员密码, 一会用来登录后台 ")])),reference:s(()=>[a(t(_),{class:"inline w-4 ml-1 -mt-0.5"})]),_:1})]),_:1},8,["prefix-icon","modelValue"])]),_:1}),a(n,null,{default:s(()=>[a(y,{tabindex:"4","native-type":"submit",loading:t(f),class:"w-full",type:"primary",icon:t(T),onClick:h},{default:s(()=>e[7]||(e[7]=[d(" 系统初始化 ")])),_:1,__:[7]},8,["loading","icon"])]),_:1})]),_:1},8,["rules","model"])])])])])])}}},ce=S(L,[["__scopeId","data-v-4707a274"]]);export{ce as default};
