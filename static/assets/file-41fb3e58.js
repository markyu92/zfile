import{d as j,aA as ht,a as ie,c as k,b as m,g as h,j as Se,h as I,f as e,n as oe,m as lt,J as $e,p as Ae,q as be,ar as Xe,C as Ve,K as ye,Q as ot,r as N,B as ne,ad as xe,a4 as Fe,aK as Te,k as a,w as g,x as d,y as Pe,v as We,au as Vt,s as xt,o as He,M as kt,V as St,e as E,l as P,F as re,G as he,i as Ct,a2 as ke,a3 as nt,aj as at,Z as Et,a5 as Mt,O as Bt,_ as st,Y as Pt,cb as zt,ah as Oe,a0 as $,$ as Ie,a1 as Ne,ai as $t,a8 as _e,ak as Lt,cc as Ut}from"./index-008199ed.js";import{u as Tt,r as Ht,c as It,d as Nt}from"./user-12b1d757.js";import{Z as rt,v as it,x as Ke,c as ve,y as At,u as Ft,b as Kt,m as Rt,z as jt,_ as Zt,o as Yt,p as Xt,A as Wt}from"./useSetting-78313f06.js";import{_ as Ce}from"./_plugin-vue_export-helper-c27b6911.js";import{a as ut,E as fe}from"./input-73d413ba.js";import{g as Ot,u as ze,b as ge,E as Re,Z as qt}from"./request-7014ab81.js";import{E as Gt}from"./drawer-19330d17.js";import"./overlay-64b24548.js";import{E as Dt}from"./switch-6e3117dc.js";import{E as dt}from"./input-number-89d86f4f.js";import"./tooltip-4ed993c7.js";/* empty css               *//* empty css            */import{E as mt,a as ct}from"./select-275ec4c7.js";/* empty css                  */import{a as ft,E as je}from"./index-60380bfa.js";import{_ as ce,U as Ee,a1 as Ze,C as gt,A as se,s as Jt,t as Qt,h as qe,J as el,y as tl}from"./index-4ea0a277.js";import{d as Ge}from"./debounce-3f0c1a7c.js";import{r as De,a as ll}from"./badge-c8e6d7be.js";import{E as ol}from"./button-30635c71.js";/* empty css                     */import{E as nl,a as al,b as sl}from"./dropdown-item-28606bba.js";import{a as Je}from"./path-229a1735.js";import"./dialog-9877e468.js";import"./index-8286893b.js";import"./vnode-5e2fd68e.js";import"./scroll-374ad3fb.js";import"./refs-9142934b.js";import"./index-c0734d0a.js";import"./validator-38288ad7.js";import"./index-9e699d2b.js";import"./directive-20abcd4b.js";import"./_initCloneObject-ffec0ace.js";import"./index-3c7e69e5.js";import"./index-0da14aee.js";import"./index-dc7d0be4.js";import"./strings-535b4609.js";import"./index-293710b7.js";import"./dropdown-40114633.js";import"./base-00eb0fe9.js";const rl=j({name:"ElContainer"}),il=j({...rl,props:{direction:{type:String}},setup(t){const l=t,r=ht(),n=ie("container"),s=k(()=>l.direction==="vertical"?!0:l.direction==="horizontal"?!1:r&&r.default?r.default().some(c=>{const p=c.type.name;return p==="ElHeader"||p==="ElFooter"}):!1);return(_,c)=>(m(),h("section",{class:I([e(n).b(),e(n).is("vertical",e(s))])},[Se(_.$slots,"default")],2))}});var ul=ce(il,[["__file","container.vue"]]);const dl=j({name:"ElAside"}),ml=j({...dl,props:{width:{type:String,default:null}},setup(t){const l=t,r=ie("aside"),n=k(()=>l.width?r.cssVarBlock({width:l.width}):{});return(s,_)=>(m(),h("aside",{class:I(e(r).b()),style:oe(e(n))},[Se(s.$slots,"default")],6))}});var vt=ce(ml,[["__file","aside.vue"]]);const cl=j({name:"ElFooter"}),fl=j({...cl,props:{height:{type:String,default:null}},setup(t){const l=t,r=ie("footer"),n=k(()=>l.height?r.cssVarBlock({height:l.height}):{});return(s,_)=>(m(),h("footer",{class:I(e(r).b()),style:oe(e(n))},[Se(s.$slots,"default")],6))}});var _t=ce(fl,[["__file","footer.vue"]]);const gl=j({name:"ElHeader"}),vl=j({...gl,props:{height:{type:String,default:null}},setup(t){const l=t,r=ie("header"),n=k(()=>l.height?r.cssVarBlock({height:l.height}):{});return(s,_)=>(m(),h("header",{class:I(e(r).b()),style:oe(e(n))},[Se(s.$slots,"default")],6))}});var pt=ce(vl,[["__file","header.vue"]]);const _l=j({name:"ElMain"}),pl=j({..._l,setup(t){const l=ie("main");return(r,n)=>(m(),h("main",{class:I(e(l).b())},[Se(r.$slots,"default")],2))}});var wt=ce(pl,[["__file","main.vue"]]);const wl=lt(ul,{Aside:vt,Footer:_t,Header:pt,Main:wt});$e(vt);const bl=$e(_t),yl=$e(pt),hl=$e(wt),bt=Symbol("sliderContextKey"),Vl=Ae({modelValue:{type:be([Number,Array]),default:0},id:{type:String,default:void 0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},showInput:Boolean,showInputControls:{type:Boolean,default:!0},size:Xe,inputSize:Xe,showStops:Boolean,showTooltip:{type:Boolean,default:!0},formatTooltip:{type:be(Function),default:void 0},disabled:Boolean,range:Boolean,vertical:Boolean,height:String,debounce:{type:Number,default:300},rangeStartLabel:{type:String,default:void 0},rangeEndLabel:{type:String,default:void 0},formatValueText:{type:be(Function),default:void 0},tooltipClass:{type:String,default:void 0},placement:{type:String,values:ft,default:"top"},marks:{type:be(Object)},validateEvent:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},...Ot(["ariaLabel"])}),Le=t=>Ve(t)||ye(t)&&t.every(Ve),xl={[Ee]:Le,[Ze]:Le,[gt]:Le},kl=Ae({modelValue:{type:Number,default:0},vertical:Boolean,tooltipClass:String,placement:{type:String,values:ft,default:"top"}}),Sl={[Ee]:t=>Ve(t)},Cl=(t,l,r)=>{const n=N(),s=N(!1),_=k(()=>l.value instanceof Function),c=k(()=>_.value&&l.value(t.modelValue)||t.modelValue),p=Ge(()=>{r.value&&(s.value=!0)},50),f=Ge(()=>{r.value&&(s.value=!1)},50);return{tooltip:n,tooltipVisible:s,formatValue:c,displayTooltip:p,hideTooltip:f}},El=(t,l,r)=>{const{disabled:n,min:s,max:_,step:c,showTooltip:p,persistent:f,precision:v,sliderSize:u,formatTooltip:o,emitChange:C,resetSize:L,updateDragging:O}=ot(bt),{tooltip:Z,tooltipVisible:T,formatValue:H,displayTooltip:U,hideTooltip:w}=Cl(t,o,p),R=N(),A=k(()=>"".concat((t.modelValue-s.value)/(_.value-s.value)*100,"%")),Y=k(()=>t.vertical?{bottom:A.value}:{left:A.value}),te=()=>{l.hovering=!0,U()},ue=()=>{l.hovering=!1,l.dragging||w()},D=x=>{n.value||(x.preventDefault(),q(x),window.addEventListener("mousemove",F),window.addEventListener("touchmove",F),window.addEventListener("mouseup",K),window.addEventListener("touchend",K),window.addEventListener("contextmenu",K),R.value.focus())},V=x=>{n.value||(l.newPosition=Number.parseFloat(A.value)+x/(_.value-s.value)*100,X(l.newPosition),C())},i=()=>{V(-c.value)},b=()=>{V(c.value)},S=()=>{V(-c.value*4)},z=()=>{V(c.value*4)},ae=()=>{n.value||(X(0),C())},M=()=>{n.value||(X(100),C())},le=x=>{let B=!0;switch(x.code){case se.left:case se.down:i();break;case se.right:case se.up:b();break;case se.home:ae();break;case se.end:M();break;case se.pageDown:S();break;case se.pageUp:z();break;default:B=!1;break}B&&x.preventDefault()},J=x=>{let B,W;return x.type.startsWith("touch")?(W=x.touches[0].clientY,B=x.touches[0].clientX):(W=x.clientY,B=x.clientX),{clientX:B,clientY:W}},q=x=>{l.dragging=!0,l.isClick=!0;const{clientX:B,clientY:W}=J(x);t.vertical?l.startY=W:l.startX=B,l.startPosition=Number.parseFloat(A.value),l.newPosition=l.startPosition},F=x=>{if(l.dragging){l.isClick=!1,U(),L();let B;const{clientX:W,clientY:G}=J(x);t.vertical?(l.currentY=G,B=(l.startY-l.currentY)/u.value*100):(l.currentX=W,B=(l.currentX-l.startX)/u.value*100),l.newPosition=l.startPosition+B,X(l.newPosition)}},K=()=>{l.dragging&&(setTimeout(()=>{l.dragging=!1,l.hovering||w(),l.isClick||X(l.newPosition),C()},0),window.removeEventListener("mousemove",F),window.removeEventListener("touchmove",F),window.removeEventListener("mouseup",K),window.removeEventListener("touchend",K),window.removeEventListener("contextmenu",K))},X=async x=>{if(x===null||Number.isNaN(+x))return;x<0?x=0:x>100&&(x=100);const B=100/((_.value-s.value)/c.value);let G=Math.round(x/B)*B*(_.value-s.value)*.01+s.value;G=Number.parseFloat(G.toFixed(v.value)),G!==t.modelValue&&r(Ee,G),!l.dragging&&t.modelValue!==l.oldValue&&(l.oldValue=t.modelValue),await xe(),l.dragging&&U(),Z.value.updatePopper()};return ne(()=>l.dragging,x=>{O(x)}),ze(R,"touchstart",D,{passive:!1}),{disabled:n,button:R,tooltip:Z,tooltipVisible:T,showTooltip:p,persistent:f,wrapperStyle:Y,formatValue:H,handleMouseEnter:te,handleMouseLeave:ue,onButtonDown:D,onKeyDown:le,setPosition:X}},Ml=j({name:"ElSliderButton"}),Bl=j({...Ml,props:kl,emits:Sl,setup(t,{expose:l,emit:r}){const n=t,s=ie("slider"),_=Fe({hovering:!1,dragging:!1,isClick:!1,startX:0,currentX:0,startY:0,currentY:0,startPosition:0,newPosition:0,oldValue:n.modelValue}),c=k(()=>u.value?o.value:!1),{disabled:p,button:f,tooltip:v,showTooltip:u,persistent:o,tooltipVisible:C,wrapperStyle:L,formatValue:O,handleMouseEnter:Z,handleMouseLeave:T,onButtonDown:H,onKeyDown:U,setPosition:w}=El(n,_,r),{hovering:R,dragging:A}=Te(_);return l({onButtonDown:H,onKeyDown:U,setPosition:w,hovering:R,dragging:A}),(Y,te)=>(m(),h("div",{ref_key:"button",ref:f,class:I([e(s).e("button-wrapper"),{hover:e(R),dragging:e(A)}]),style:oe(e(L)),tabindex:e(p)?-1:0,onMouseenter:e(Z),onMouseleave:e(T),onMousedown:e(H),onFocus:e(Z),onBlur:e(T),onKeydown:e(U)},[a(e(je),{ref_key:"tooltip",ref:v,visible:e(C),placement:Y.placement,"fallback-placements":["top","bottom","right","left"],"stop-popper-mouse-event":!1,"popper-class":Y.tooltipClass,disabled:!e(u),persistent:e(c)},{content:g(()=>[d("span",null,Pe(e(O)),1)]),default:g(()=>[d("div",{class:I([e(s).e("button"),{hover:e(R),dragging:e(A)}])},null,2)]),_:1},8,["visible","placement","popper-class","disabled","persistent"])],46,["tabindex","onMouseenter","onMouseleave","onMousedown","onFocus","onBlur","onKeydown"]))}});var Qe=ce(Bl,[["__file","button.vue"]]);const Pl=Ae({mark:{type:be([String,Object]),default:void 0}});var zl=j({name:"ElSliderMarker",props:Pl,setup(t){const l=ie("slider"),r=k(()=>We(t.mark)?t.mark:t.mark.label),n=k(()=>We(t.mark)?void 0:t.mark.style);return()=>Vt("div",{class:l.e("marks-text"),style:n.value},r.value)}});const $l=(t,l,r)=>{const{form:n,formItem:s}=Jt(),_=xt(),c=N(),p=N(),f={firstButton:c,secondButton:p},v=k(()=>t.disabled||(n==null?void 0:n.disabled)||!1),u=k(()=>Math.min(l.firstValue,l.secondValue)),o=k(()=>Math.max(l.firstValue,l.secondValue)),C=k(()=>t.range?"".concat(100*(o.value-u.value)/(t.max-t.min),"%"):"".concat(100*(l.firstValue-t.min)/(t.max-t.min),"%")),L=k(()=>t.range?"".concat(100*(u.value-t.min)/(t.max-t.min),"%"):"0%"),O=k(()=>t.vertical?{height:t.height}:{}),Z=k(()=>t.vertical?{height:C.value,bottom:L.value}:{width:C.value,left:L.value}),T=()=>{_.value&&(l.sliderSize=_.value["client".concat(t.vertical?"Height":"Width")])},H=b=>{const S=t.min+b*(t.max-t.min)/100;if(!t.range)return c;let z;return Math.abs(u.value-S)<Math.abs(o.value-S)?z=l.firstValue<l.secondValue?"firstButton":"secondButton":z=l.firstValue>l.secondValue?"firstButton":"secondButton",f[z]},U=b=>{const S=H(b);return S.value.setPosition(b),S},w=b=>{l.firstValue=b!=null?b:t.min,A(t.range?[u.value,o.value]:b!=null?b:t.min)},R=b=>{l.secondValue=b,t.range&&A([u.value,o.value])},A=b=>{r(Ee,b),r(Ze,b)},Y=async()=>{await xe(),r(gt,t.range?[u.value,o.value]:t.modelValue)},te=b=>{var S,z,ae,M,le,J;if(v.value||l.dragging)return;T();let q=0;if(t.vertical){const F=(ae=(z=(S=b.touches)==null?void 0:S.item(0))==null?void 0:z.clientY)!=null?ae:b.clientY;q=(_.value.getBoundingClientRect().bottom-F)/l.sliderSize*100}else{const F=(J=(le=(M=b.touches)==null?void 0:M.item(0))==null?void 0:le.clientX)!=null?J:b.clientX,K=_.value.getBoundingClientRect().left;q=(F-K)/l.sliderSize*100}if(!(q<0||q>100))return U(q)};return{elFormItem:s,slider:_,firstButton:c,secondButton:p,sliderDisabled:v,minValue:u,maxValue:o,runwayStyle:O,barStyle:Z,resetSize:T,setPosition:U,emitChange:Y,onSliderWrapperPrevent:b=>{var S,z;((S=f.firstButton.value)!=null&&S.dragging||(z=f.secondButton.value)!=null&&z.dragging)&&b.preventDefault()},onSliderClick:b=>{te(b)&&Y()},onSliderDown:async b=>{const S=te(b);S&&(await xe(),S.value.onButtonDown(b))},onSliderMarkerDown:b=>{if(v.value||l.dragging)return;U(b)&&Y()},setFirstValue:w,setSecondValue:R}},Ll=(t,l,r,n)=>({stops:k(()=>{if(!t.showStops||t.min>t.max)return[];if(t.step===0)return[];const c=(t.max-t.min)/t.step,p=100*t.step/(t.max-t.min),f=Array.from({length:c-1}).map((v,u)=>(u+1)*p);return t.range?f.filter(v=>v<100*(r.value-t.min)/(t.max-t.min)||v>100*(n.value-t.min)/(t.max-t.min)):f.filter(v=>v>100*(l.firstValue-t.min)/(t.max-t.min))}),getStopStyle:c=>t.vertical?{bottom:"".concat(c,"%")}:{left:"".concat(c,"%")}}),Ul=t=>k(()=>t.marks?Object.keys(t.marks).map(Number.parseFloat).sort((r,n)=>r-n).filter(r=>r<=t.max&&r>=t.min).map(r=>({point:r,position:(r-t.min)*100/(t.max-t.min),mark:t.marks[r]})):[]),Tl=(t,l,r,n,s,_)=>{const c=v=>{s(Ee,v),s(Ze,v)},p=()=>t.range?![r.value,n.value].every((v,u)=>v===l.oldValue[u]):t.modelValue!==l.oldValue,f=()=>{var v,u;t.min>t.max&&Qt("Slider","min should not be greater than max.");const o=t.modelValue;t.range&&ye(o)?o[1]<t.min?c([t.min,t.min]):o[0]>t.max?c([t.max,t.max]):o[0]<t.min?c([t.min,o[1]]):o[1]>t.max?c([o[0],t.max]):(l.firstValue=o[0],l.secondValue=o[1],p()&&(t.validateEvent&&((v=_==null?void 0:_.validate)==null||v.call(_,"change").catch(C=>qe())),l.oldValue=o.slice())):!t.range&&Ve(o)&&!Number.isNaN(o)&&(o<t.min?c(t.min):o>t.max?c(t.max):(l.firstValue=o,p()&&(t.validateEvent&&((u=_==null?void 0:_.validate)==null||u.call(_,"change").catch(C=>qe())),l.oldValue=o)))};f(),ne(()=>l.dragging,v=>{v||f()}),ne(()=>t.modelValue,(v,u)=>{l.dragging||ye(v)&&ye(u)&&v.every((o,C)=>o===u[C])&&l.firstValue===v[0]&&l.secondValue===v[1]||f()},{deep:!0}),ne(()=>[t.min,t.max],()=>{f()})},Hl=(t,l,r)=>{const n=N();return He(async()=>{t.range?(ye(t.modelValue)?(l.firstValue=Math.max(t.min,t.modelValue[0]),l.secondValue=Math.min(t.max,t.modelValue[1])):(l.firstValue=t.min,l.secondValue=t.max),l.oldValue=[l.firstValue,l.secondValue]):(!Ve(t.modelValue)||Number.isNaN(t.modelValue)?l.firstValue=t.min:l.firstValue=Math.min(t.max,Math.max(t.min,t.modelValue)),l.oldValue=l.firstValue),ze(window,"resize",r),await xe(),r()}),{sliderWrapper:n}},Il=j({name:"ElSlider"}),Nl=j({...Il,props:Vl,emits:xl,setup(t,{expose:l,emit:r}){const n=t,s=ie("slider"),{t:_}=kt(),c=Fe({firstValue:0,secondValue:0,oldValue:0,dragging:!1,sliderSize:1}),{elFormItem:p,slider:f,firstButton:v,secondButton:u,sliderDisabled:o,minValue:C,maxValue:L,runwayStyle:O,barStyle:Z,resetSize:T,emitChange:H,onSliderWrapperPrevent:U,onSliderClick:w,onSliderDown:R,onSliderMarkerDown:A,setFirstValue:Y,setSecondValue:te}=$l(n,c,r),{stops:ue,getStopStyle:D}=Ll(n,c,C,L),{inputId:V,isLabeledByFormItem:i}=el(n,{formItemContext:p}),b=tl(),S=k(()=>n.inputSize||b.value),z=k(()=>n.ariaLabel||_("el.slider.defaultLabel",{min:n.min,max:n.max})),ae=k(()=>n.range?n.rangeStartLabel||_("el.slider.defaultRangeStartLabel"):z.value),M=k(()=>n.formatValueText?n.formatValueText(x.value):"".concat(x.value)),le=k(()=>n.rangeEndLabel||_("el.slider.defaultRangeEndLabel")),J=k(()=>n.formatValueText?n.formatValueText(B.value):"".concat(B.value)),q=k(()=>[s.b(),s.m(b.value),s.is("vertical",n.vertical),{[s.m("with-input")]:n.showInput}]),F=Ul(n);Tl(n,c,C,L,r,p);const K=k(()=>{const y=[n.min,n.max,n.step].map(Me=>{const de="".concat(Me).split(".")[1];return de?de.length:0});return Math.max.apply(null,y)}),{sliderWrapper:X}=Hl(n,c,T),{firstValue:x,secondValue:B,sliderSize:W}=Te(c),G=y=>{c.dragging=y};return ze(X,"touchstart",U,{passive:!1}),ze(X,"touchmove",U,{passive:!1}),St(bt,{...Te(n),sliderSize:W,disabled:o,precision:K,emitChange:H,resetSize:T,updateDragging:G}),l({onSliderClick:w}),(y,Me)=>{var de,Be;return m(),h("div",{id:y.range?e(V):void 0,ref_key:"sliderWrapper",ref:X,class:I(e(q)),role:y.range?"group":void 0,"aria-label":y.range&&!e(i)?e(z):void 0,"aria-labelledby":y.range&&e(i)?(de=e(p))==null?void 0:de.labelId:void 0},[d("div",{ref_key:"slider",ref:f,class:I([e(s).e("runway"),{"show-input":y.showInput&&!y.range},e(s).is("disabled",e(o))]),style:oe(e(O)),onMousedown:e(R),onTouchstartPassive:e(R)},[d("div",{class:I(e(s).e("bar")),style:oe(e(Z))},null,6),a(Qe,{id:y.range?void 0:e(V),ref_key:"firstButton",ref:v,"model-value":e(x),vertical:y.vertical,"tooltip-class":y.tooltipClass,placement:y.placement,role:"slider","aria-label":y.range||!e(i)?e(ae):void 0,"aria-labelledby":!y.range&&e(i)?(Be=e(p))==null?void 0:Be.labelId:void 0,"aria-valuemin":y.min,"aria-valuemax":y.range?e(B):y.max,"aria-valuenow":e(x),"aria-valuetext":e(M),"aria-orientation":y.vertical?"vertical":"horizontal","aria-disabled":e(o),"onUpdate:modelValue":e(Y)},null,8,["id","model-value","vertical","tooltip-class","placement","aria-label","aria-labelledby","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"]),y.range?(m(),E(Qe,{key:0,ref_key:"secondButton",ref:u,"model-value":e(B),vertical:y.vertical,"tooltip-class":y.tooltipClass,placement:y.placement,role:"slider","aria-label":e(le),"aria-valuemin":e(x),"aria-valuemax":y.max,"aria-valuenow":e(B),"aria-valuetext":e(J),"aria-orientation":y.vertical?"vertical":"horizontal","aria-disabled":e(o),"onUpdate:modelValue":e(te)},null,8,["model-value","vertical","tooltip-class","placement","aria-label","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"])):P("v-if",!0),y.showStops?(m(),h("div",{key:1},[(m(!0),h(re,null,he(e(ue),(Q,me)=>(m(),h("div",{key:me,class:I(e(s).e("stop")),style:oe(e(D)(Q))},null,6))),128))])):P("v-if",!0),e(F).length>0?(m(),h(re,{key:2},[d("div",null,[(m(!0),h(re,null,he(e(F),(Q,me)=>(m(),h("div",{key:me,style:oe(e(D)(Q.position)),class:I([e(s).e("stop"),e(s).e("marks-stop")])},null,6))),128))]),d("div",{class:I(e(s).e("marks"))},[(m(!0),h(re,null,he(e(F),(Q,me)=>(m(),E(e(zl),{key:me,mark:Q.mark,style:oe(e(D)(Q.position)),onMousedown:Ct(Ye=>e(A)(Q.position),["stop"])},null,8,["mark","style","onMousedown"]))),128))],2)],64)):P("v-if",!0)],46,["onMousedown","onTouchstartPassive"]),y.showInput&&!y.range?(m(),E(e(dt),{key:0,ref:"input","model-value":e(x),class:I(e(s).e("input")),step:y.step,disabled:e(o),controls:y.showInputControls,min:y.min,max:y.max,precision:e(K),debounce:y.debounce,size:e(S),"onUpdate:modelValue":e(Y),onChange:e(H)},null,8,["model-value","class","step","disabled","controls","min","max","precision","debounce","size","onUpdate:modelValue","onChange"])):P("v-if",!0)],10,["id","role","aria-label","aria-labelledby"])}}});var Al=ce(Nl,[["__file","slider.vue"]]);const Fl=lt(Al);function Kl(t,l){return m(),h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 16.5V9.75m0 0 3 3m-3-3-3 3M6.75 19.5a4.5 4.5 0 0 1-1.41-8.775 5.25 5.25 0 0 1 10.233-2.33 3 3 0 0 1 3.758 3.848A3.752 3.752 0 0 1 18 19.5H6.75Z"})])}function Rl(t,l){return m(),h("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[d("path",{"fill-rule":"evenodd",d:"M3 6.75A.75.75 0 0 1 3.75 6h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 6.75ZM3 12a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 12Zm0 5.25a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75a.75.75 0 0 1-.75-.75Z","clip-rule":"evenodd"})])}function jl(t,l){return m(),h("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[d("path",{"fill-rule":"evenodd",d:"M3 6a3 3 0 0 1 3-3h2.25a3 3 0 0 1 3 3v2.25a3 3 0 0 1-3 3H6a3 3 0 0 1-3-3V6Zm9.75 0a3 3 0 0 1 3-3H18a3 3 0 0 1 3 3v2.25a3 3 0 0 1-3 3h-2.25a3 3 0 0 1-3-3V6ZM3 15.75a3 3 0 0 1 3-3h2.25a3 3 0 0 1 3 3V18a3 3 0 0 1-3 3H6a3 3 0 0 1-3-3v-2.25Zm9.75 0a3 3 0 0 1 3-3H18a3 3 0 0 1 3 3V18a3 3 0 0 1-3 3h-2.25a3 3 0 0 1-3-3v-2.25Z","clip-rule":"evenodd"})])}function Zl(t,l){return m(),h("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[d("path",{"fill-rule":"evenodd",d:"M16.5 4.478v.227a48.816 48.816 0 0 1 3.878.512.75.75 0 1 1-.256 1.478l-.209-.035-1.005 13.07a3 3 0 0 1-2.991 2.77H8.084a3 3 0 0 1-2.991-2.77L4.087 6.66l-.209.035a.75.75 0 0 1-.256-1.478A48.567 48.567 0 0 1 7.5 4.705v-.227c0-1.564 1.213-2.9 2.816-2.951a52.662 52.662 0 0 1 3.369 0c1.603.051 2.815 1.387 2.815 2.951Zm-6.136-1.452a51.196 51.196 0 0 1 3.273 0C14.39 3.05 15 3.684 15 4.478v.113a49.488 49.488 0 0 0-6 0v-.113c0-.794.609-1.428 1.364-1.452Zm-.355 5.945a.75.75 0 1 0-1.5.058l.347 9a.75.75 0 1 0 1.499-.058l-.346-9Zm5.48.058a.75.75 0 1 0-1.498-.058l-.347 9a.75.75 0 0 0 1.5.058l.345-9Z","clip-rule":"evenodd"})])}function yt(t){const l=N(!1);return{visible:l,openDialog:()=>{var s;l.value=!0,(s=t.value)==null||s.resetFields()},closeDialog:()=>{var s;(s=t.value)==null||s.resetFields(),l.value=!1}}}const Yl={__name:"UpdatePwd",setup(t,{expose:l}){const r=N({newPassword:[{required:!0,message:"请输入新密码",trigger:["change","blur"]}],confirmPassword:[{required:!0,message:"请再次输入新密码",trigger:["change","blur"]},{validator:(v,u,o)=>{u===""?o(new Error("请再次输入新密码")):u!==p.value.newPassword?o(new Error("两次输入密码不一致!")):o()},trigger:["change","blur"]}]}),n=N(null);let{visible:s,closeDialog:_,openDialog:c}=yt(n);const p=N({oldPassword:"",newPassword:"",confirmPassword:""}),f=()=>{n.value.validate(v=>{v&&Tt(p.value).then(u=>{Re.success("修改成功"),_()})})};return l({closeDialog:_,openDialog:c}),(v,u)=>(m(),E(rt,{onConfirm:f,modelValue:e(s),"onUpdate:modelValue":u[3]||(u[3]=o=>ke(s)?s.value=o:s=o),draggable:"",class:"zfile-update-pwd-dialog",width:"450px",title:"修改密码"},{default:g(()=>[a(e(ut),{model:e(p),rules:e(r),ref_key:"formRef",ref:n,"label-width":"80px"},{default:g(()=>[a(e(fe),{label:"原密码",prop:"oldPassword"},{default:g(()=>[a(e(ge),{modelValue:e(p).oldPassword,"onUpdate:modelValue":u[0]||(u[0]=o=>e(p).oldPassword=o),type:"password","show-password":""},null,8,["modelValue"]),u[4]||(u[4]=d("div",{class:"el-form-item-tips"},"单点登录未主动设置过密码的用户，可不填写原密码。",-1))]),_:1,__:[4]}),a(e(fe),{label:"新密码",prop:"newPassword"},{default:g(()=>[a(e(ge),{modelValue:e(p).newPassword,"onUpdate:modelValue":u[1]||(u[1]=o=>e(p).newPassword=o),type:"password","show-password":""},null,8,["modelValue"])]),_:1}),a(e(fe),{label:"确认密码",prop:"confirmPassword"},{default:g(()=>[a(e(ge),{modelValue:e(p).confirmPassword,"onUpdate:modelValue":u[2]||(u[2]=o=>e(p).confirmPassword=o),type:"password","show-password":""},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue"]))}},Xl=Ce(Yl,[["__scopeId","data-v-8fbe0765"]]);const Wl={class:"zfile-index-setting-drawer"},Ol={class:"zfile-index-setting-drawer-body"},ql={key:0,class:"zfile-index-setting-drawer-group"},Gl={class:"w-full"},Dl={class:"zfile-index-setting-drawer-group"},Jl={class:"zfile-index-setting-drawer-blockCheckbox"},Ql={class:"px-2.5"},eo={class:"zfile-index-setting-drawer-group"},to={class:"flex justify-between"},lo={class:"flex justify-between"},oo={class:"flex justify-between"},no={class:"flex justify-between"},ao={class:"flex justify-between"},so={class:"flex justify-between"},ro={class:"flex justify-between"},io={class:"flex justify-between"},uo={class:"flex justify-between"},mo={class:"zfile-index-setting-drawer-group"},co={class:"flex justify-between my-auto"},fo={__name:"Setting",setup(t){let{clearPwdCache:l}=At();const{visible:r,zfileSettingCache:n}=it(),{currentStorageKey:s,storageList:_}=Ke();let c=nt(),p=ve();const f=Fe({1:"小",2:"中",3:"大"}),v={1:"small",2:"default",3:"large"};return ne(()=>n.value,u=>{var o;c.zfileConfig.gallery=u.gallery,c.zfileConfig.imagePreview=u.imagePreview,(o=u==null?void 0:u.view)!=null&&o.size&&(p.globalConfig.tableSize=v[u.view.size]),p.globalConfig.tableSize||(p.globalConfig.tableSize="defualt")},{immediate:!0,deep:!0}),(u,o)=>{const C=mt,L=ct,O=je,Z=Fl,T=dt,H=Dt,U=Gt;return m(),h("div",Wl,[a(U,{modelValue:e(r),"onUpdate:modelValue":o[13]||(o[13]=w=>ke(r)?r.value=w:null),title:"个人设置",class:"text-left","with-header":!1,direction:"rtl"},{default:g(()=>[d("div",Ol,[e(at)?(m(),h("div",ql,[o[14]||(o[14]=d("div",{class:"zfile-index-setting-drawer-title"},"存储源",-1)),d("div",Gl,[a(L,{size:"large",class:"w-full",modelValue:e(s),"onUpdate:modelValue":o[0]||(o[0]=w=>ke(s)?s.value=w:null),placeholder:"请选择存储源"},{default:g(()=>[(m(!0),h(re,null,he(e(_),w=>(m(),E(C,{key:w.key,label:w.name,value:w.key},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])])):P("",!0),d("div",Dl,[o[15]||(o[15]=d("div",{class:"zfile-index-setting-drawer-title"},"视图",-1)),d("div",Jl,[a(O,{effect:"dark",content:"列表模式",placement:"bottom"},{default:g(()=>[d("div",{class:I(["zfile-index-setting-drawer-item",{current:e(n).view.type==="table"}]),onClick:o[1]||(o[1]=w=>e(n).view.type="table")},[a(e(Rl))],2)]),_:1}),a(O,{effect:"dark",content:"图标模式",placement:"bottom"},{default:g(()=>[d("div",{class:I(["zfile-index-setting-drawer-item",{current:e(n).view.type==="card"}]),onClick:o[2]||(o[2]=w=>e(n).view.type="card")},[a(e(jl))],2)]),_:1})]),d("div",Ql,[a(Z,{size:"large","show-tooltip":!1,marks:e(f),modelValue:e(n).view.size,"onUpdate:modelValue":o[3]||(o[3]=w=>e(n).view.size=w),step:1,min:1,max:3,"show-stops":""},null,8,["marks","modelValue"])])]),d("div",eo,[o[25]||(o[25]=d("div",{class:"zfile-index-setting-drawer-title"},"画廊",-1)),o[26]||(o[26]=d("div",{class:"text-gray-400 text-sm"},"如已处于画廊模式，需重新启用画廊模式生效.",-1)),d("div",to,[o[16]||(o[16]=d("div",{class:"text-base font-medium"},"图片列数",-1)),a(T,{modelValue:e(n).gallery.column,"onUpdate:modelValue":o[4]||(o[4]=w=>e(n).gallery.column=w),min:1},null,8,["modelValue"])]),d("div",lo,[o[17]||(o[17]=d("div",{class:"text-base font-medium"},"列间距",-1)),a(T,{modelValue:e(n).gallery.columnSpacing,"onUpdate:modelValue":o[5]||(o[5]=w=>e(n).gallery.columnSpacing=w),min:0},null,8,["modelValue"])]),d("div",oo,[o[18]||(o[18]=d("div",{class:"text-base font-medium"},"行间距",-1)),a(T,{modelValue:e(n).gallery.rowSpacing,"onUpdate:modelValue":o[6]||(o[6]=w=>e(n).gallery.rowSpacing=w),min:0},null,8,["modelValue"])]),d("div",no,[o[19]||(o[19]=d("div",{class:"text-base font-medium"},"图片是否带圆角边框",-1)),a(H,{modelValue:e(n).gallery.roundedBorder,"onUpdate:modelValue":o[7]||(o[7]=w=>e(n).gallery.roundedBorder=w)},null,8,["modelValue"])]),d("div",ao,[o[20]||(o[20]=d("div",{class:"text-base font-medium"},"显示名称",-1)),a(H,{modelValue:e(n).gallery.showInfo,"onUpdate:modelValue":o[8]||(o[8]=w=>e(n).gallery.showInfo=w)},null,8,["modelValue"])]),d("div",so,[o[21]||(o[21]=d("div",{class:"text-base font-medium w-full"},"名称显示模式",-1)),a(L,{modelValue:e(n).gallery.showInfoMode,"onUpdate:modelValue":o[9]||(o[9]=w=>e(n).gallery.showInfoMode=w)},{default:g(()=>[a(C,{label:"悬浮显示",value:"hover"}),a(C,{label:"底部显示",value:"bottom"})]),_:1},8,["modelValue"])]),d("div",ro,[o[22]||(o[22]=d("div",{class:"text-base font-medium w-full"},"双击预览模式",-1)),a(L,{modelValue:e(n).imagePreview.mode,"onUpdate:modelValue":o[10]||(o[10]=w=>e(n).imagePreview.mode=w)},{default:g(()=>[a(C,{label:"显示全部",value:"full"}),a(C,{label:"显示单张",value:"only"})]),_:1},8,["modelValue"])]),d("div",io,[o[23]||(o[23]=d("div",{class:"text-base font-medium"},"点击放大预览",-1)),a(H,{modelValue:e(n).imagePreview.gallery,"onUpdate:modelValue":o[11]||(o[11]=w=>e(n).imagePreview.gallery=w)},null,8,["modelValue"])]),d("div",uo,[o[24]||(o[24]=d("div",{class:"text-base font-medium"},"回到顶部按钮",-1)),a(H,{modelValue:e(n).gallery.showBackTop,"onUpdate:modelValue":o[12]||(o[12]=w=>e(n).gallery.showBackTop=w)},null,8,["modelValue"])])]),o[29]||(o[29]=d("div",{class:"text-gray-400 text-sm mt-10"}," Tips: 设置会自动保存，刷新后仍有效. ",-1)),d("div",mo,[o[28]||(o[28]=d("div",{class:"zfile-index-setting-drawer-title"},"其他",-1)),d("div",co,[o[27]||(o[27]=d("div",{class:"text-base font-medium"},"清理密码文件夹缓存",-1)),a(e(Zl),{onClick:e(l),class:"w-6 h-6 text-red-500 cursor-pointer"},null,8,["onClick"])])])])]),_:1},8,["modelValue"])])}}},go=Ce(fo,[["__scopeId","data-v-319f4f1a"]]),vo={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function _o(t,l){return m(),h("svg",vo,l[0]||(l[0]=[d("path",{fill:"currentColor",d:"M2.992 21A.993.993 0 0 1 2 20.007V3.993A1 1 0 0 1 2.992 3h18.016c.548 0 .992.445.992.993v16.014a1 1 0 0 1-.992.993zM20 15V5H4v14L14 9zm0 2.828l-6-6L6.828 19H20zM8 11a2 2 0 1 1 0-4a2 2 0 0 1 0 4"},null,-1)]))}const po={name:"ri-image-line",render:_o},wo={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function bo(t,l){return m(),h("svg",wo,l[0]||(l[0]=[d("path",{fill:"currentColor",d:"M7 14c-1.1 0-2-.9-2-2s.9-2 2-2s2 .9 2 2s-.9 2-2 2m5.6-4c-.8-2.3-3-4-5.6-4c-3.3 0-6 2.7-6 6s2.7 6 6 6c2.6 0 4.8-1.7 5.6-4H16v4h4v-4h3v-4z"},null,-1)]))}const yo={name:"mdi-key",render:bo},ho={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function Vo(t,l){return m(),h("svg",ho,l[0]||(l[0]=[Et('<g fill="none" stroke="currentColor" stroke-width="1.5"><path d="M2 14c0-3.771 0-5.657 1.172-6.828S6.229 6 10 6h4c3.771 0 5.657 0 6.828 1.172S22 10.229 22 14s0 5.657-1.172 6.828S17.771 22 14 22h-4c-3.771 0-5.657 0-6.828-1.172S2 17.771 2 14Z"></path><path d="m4 7l-.012-1c.112-.931.347-1.574.837-2.063C5.765 3 7.279 3 10.307 3h3.211c3.028 0 4.541 0 5.482.937c.49.489.725 1.132.837 2.063v1"></path><circle cx="17.5" cy="10.5" r="1.5"></circle><path stroke-linecap="round" d="m2 14.5l1.752-1.533a2.3 2.3 0 0 1 3.14.105l4.29 4.29a2 2 0 0 0 2.564.222l.299-.21a3 3 0 0 1 3.731.225L21 20.5"></path></g>',1)]))}const xo={name:"solar-gallery-wide-linear",render:Vo},ko={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function So(t,l){return m(),h("svg",ko,l[0]||(l[0]=[d("path",{fill:"currentColor",d:"M19 3H5c-1.11 0-2 .89-2 2v4h2V5h14v14H5v-4H3v4a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2m-8.92 12.58L11.5 17l5-5l-5-5l-1.42 1.41L12.67 11H3v2h9.67z"},null,-1)]))}const Co={name:"mdi-login-variant",render:So},Eo={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function Mo(t,l){return m(),h("svg",Eo,l[0]||(l[0]=[d("path",{fill:"currentColor",d:"m17 7l-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5M4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4z"},null,-1)]))}const Bo={name:"mdi-logout",render:Mo},Po={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function zo(t,l){return m(),h("svg",Po,l[0]||(l[0]=[d("path",{fill:"currentColor",d:"M12 17a2 2 0 0 0 2-2a2 2 0 0 0-2-2a2 2 0 0 0-2 2a2 2 0 0 0 2 2m6-9a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V10a2 2 0 0 1 2-2h1V6a5 5 0 0 1 5-5a5 5 0 0 1 5 5v2zm-6-5a3 3 0 0 0-3 3v2h6V6a3 3 0 0 0-3-3"},null,-1)]))}const $o={name:"mdi-lock",render:zo},Lo={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function Uo(t,l){return m(),h("svg",Lo,l[0]||(l[0]=[d("path",{d:"M8.999 3.999a4.002 4.002 0 0 0 0 8.003a3.999 3.999 0 0 0 3.998-4.005A3.998 3.998 0 0 0 9 4zm0 10C6.329 13.999 1 15.332 1 17.997V20H12.08a6.233 6.233 0 0 1-.078-1.001c0-1.514.493-2.988 1.407-4.199c-1.529-.523-3.228-.801-4.41-.801zm8.99 0a.261.261 0 0 0-.25.21l-.19 1.319a4.091 4.091 0 0 0-.85.492l-1.24-.502a.265.265 0 0 0-.308.112l-1.001 1.729a.255.255 0 0 0 .059.322l1.06.83a3.95 3.95 0 0 0 0 .981l-1.06.83a.26.26 0 0 0-.059.318l1.001 1.729c.059.111.19.151.308.111l1.24-.497c.258.2.542.366.85.488l.19 1.318c.02.122.122.21.25.21h2.001c.122 0 .23-.088.25-.21l.19-1.318c.297-.132.59-.288.84-.488l1.25.497c.111.04.239 0 .313-.111l.996-1.729a.256.256 0 0 0-.059-.317l-1.07-.83c.02-.162.04-.323.04-.494c0-.171-.01-.328-.04-.488l1.06-.83c.087-.084.121-.21.059-.322l-.996-1.729a.263.263 0 0 0-.313-.113l-1.24.503c-.26-.2-.543-.37-.85-.492l-.19-1.32a.238.238 0 0 0-.24-.21M18.989 17.5c.83 0 1.5.669 1.5 1.499c0 .83-.67 1.498-1.5 1.498S17.49 19.83 17.49 19s.669-1.499 1.499-1.499z",fill:"currentColor"},null,-1)]))}const To={name:"mdi-account-settings-variant",render:Uo},Ho={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function Io(t,l){return m(),h("svg",Ho,l[0]||(l[0]=[d("path",{fill:"currentColor",d:"M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10a10 10 0 0 0 10-10A10 10 0 0 0 12 2M7.07 18.28c.43-.9 3.05-1.78 4.93-1.78s4.5.88 4.93 1.78A7.9 7.9 0 0 1 12 20c-1.86 0-3.57-.64-4.93-1.72m11.29-1.45c-1.43-1.74-4.9-2.33-6.36-2.33s-4.93.59-6.36 2.33A7.93 7.93 0 0 1 4 12c0-4.41 3.59-8 8-8s8 3.59 8 8c0 1.82-.62 3.5-1.64 4.83M12 6c-1.94 0-3.5 1.56-3.5 3.5S10.06 13 12 13s3.5-1.56 3.5-3.5S13.94 6 12 6m0 5a1.5 1.5 0 0 1-1.5-1.5A1.5 1.5 0 0 1 12 8a1.5 1.5 0 0 1 1.5 1.5A1.5 1.5 0 0 1 12 11"},null,-1)]))}const No={name:"mdi-account-circle-outline",render:Io};let et=ve(),{fullpath:Ue,storageKey:pe}=Mt(),we=N([]),tt=!1;function Ao(){let t=et.globalConfig.rootShowStorage,l=()=>{if(!t&&!pe.value){we.value=[];return}if(we.value=[{name:et.globalConfig.siteHomeName||"首页",href:r.value,disable:!1}],t){let{findStorageByKey:n}=Ke(),s=n(pe.value);s&&we.value.push({name:s.name,href:Je("/",s.key)})}Ue.value&&Ue.value.forEach((n,s,_)=>{if(n){let c={name:n,href:Je("/",pe.value,_.slice(0,s+1).join("/")),disable:s===_.length-1};we.value.push(c)}})},r=k(()=>"/"+(t?"":pe.value));return tt||(ne(()=>Ue.value,()=>{l()}),ne(()=>pe.value,()=>{l()})),tt=!0,{rootPath:r,breadcrumbData:we,buildBreadcrumbData:l}}const Fo=["src"],Ko={__name:"HeaderLogo",setup(t){let l=ve();const r=()=>{l.globalConfig.siteHomeLogoLink&&(l.globalConfig.siteHomeLogoTargetMode==="_blank"?window.open(l.globalConfig.siteHomeLogoLink):location.href=l.globalConfig.siteHomeLogoLink)};return(n,s)=>e(l).globalConfig.siteHomeLogo?(m(),h("img",{key:0,id:"zfile-home-logo",onClick:r,src:e(l).globalConfig.siteHomeLogo,class:"my-auto h-6 mr-2 cursor-pointer"},null,8,Fo)):P("",!0)}};const Ro={__name:"UpdateUserNameAndPwd",setup(t,{expose:l}){const r=N({username:[{required:!0,message:"请输入新的管理员用户名",trigger:["change","blur"]}],password:[{required:!0,message:"请输入新的管理员密码",trigger:["change","blur"]}],confirmPassword:[{required:!0,message:"请再次输入新密码",trigger:["change","blur"]},{validator:(v,u,o)=>{u===""?o(new Error("请再次输入新密码")):u!==p.value.password?o(new Error("两次输入密码不一致!")):o()},trigger:["change","blur"]}]}),n=N(null);let{visible:s,closeDialog:_,openDialog:c}=yt(n);const p=N({username:"",password:"",confirmPassword:""}),f=()=>{n.value.validate(v=>{v&&Ht(p.value).then(u=>{Re.success("修改成功"),_()})})};return l({closeDialog:_,openDialog:c}),(v,u)=>(m(),E(rt,{onConfirm:f,modelValue:e(s),"onUpdate:modelValue":u[3]||(u[3]=o=>ke(s)?s.value=o:s=o),draggable:"",class:"zfile-update-pwd-dialog",width:"450px",title:"重置管理员密码"},{default:g(()=>[a(e(ut),{model:e(p),rules:e(r),ref_key:"formRef",ref:n,"label-width":"80px",onKeyup:Bt(f,["native","enter"])},{default:g(()=>[a(e(fe),{label:"用户名",prop:"username"},{default:g(()=>[a(e(ge),{modelValue:e(p).username,"onUpdate:modelValue":u[0]||(u[0]=o=>e(p).username=o)},null,8,["modelValue"])]),_:1}),a(e(fe),{label:"新密码",prop:"password"},{default:g(()=>[a(e(ge),{modelValue:e(p).password,"onUpdate:modelValue":u[1]||(u[1]=o=>e(p).password=o),type:"password","show-password":""},null,8,["modelValue"])]),_:1}),a(e(fe),{label:"确认密码",prop:"confirmPassword"},{default:g(()=>[a(e(ge),{modelValue:e(p).confirmPassword,"onUpdate:modelValue":u[2]||(u[2]=o=>e(p).confirmPassword=o),type:"password","show-password":""},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue"]))}},jo=Ce(Ro,[["__scopeId","data-v-c76ad7a8"]]);const Zo={class:"zfile-header"},Yo={class:"zfile-header-breadcrumb box animate__animated animate__fadeIn flex flex-1"},Xo={class:"zfile-header-right box animate__animated animate__fadeIn"},Wo={key:0,class:"zfile-header-btn"},Oo={class:"text-gray-500 text-center mx-auto"},qo={key:1,class:"zfile-header-storage-select"},Go={key:0},Do={__name:"Header",setup(t){let l=st(),r=Pt();const{loadStorageSourceList:n,currentStorageKey:s,storageList:_}=Ke(),{buildBreadcrumbData:c,breadcrumbData:p}=Ao();let f=ve(),v=Ft();He(()=>{n().then(()=>{c()})});const u=N(null),o=()=>{u.value.openDialog()},C=N(null),L=()=>{C.value.openDialog()},O=V=>{V.href&&l.push(V.href)};ne(()=>r.params.storageKey,V=>{V===void 0&&(s.value="")});const{newFolder:Z}=Rt(),{openUploadDialog:T,openUploadFolderDialog:H,uploadProgressInfoStatistics:U}=Kt(),{openSettingVisible:w}=it();ne(()=>[f.folderConfig.defaultSwitchToImgMode,v.oldStorageKey],(V,i)=>{let b=V[0],S=V[1],z=i[1];S!==z&&(v.imgMode=b)});const R=()=>{window.location.href="/login"};if(f.globalConfig.customCss)try{zt(f.globalConfig.customCss)}catch(V){console.error("加载自定义 css 加载失败:",f.globalConfig.customCss,V)}const A=V=>{V&&(document.getElementsByTagName("head")[0].appendChild(V),console.log("加载自定义 js, src:".concat(V.src,", text:").concat(V.text)))},Y=V=>{if(V&&V.trim()){let i=document.createElement("script");i.type="text/javascript",i.text=V,A(i)}};He(()=>{xe(()=>{if(f.globalConfig.customJs){const V=document.createElement("div");V.innerHTML=f.globalConfig.customJs,Array.from(V.getElementsByTagName("script")).forEach(i=>{if(i.src){const b=document.createElement("script");for(let S=0;S<i.attributes.length;S++){const z=i.attributes[S];b.setAttribute(z.name,z.value)}A(b)}else Y(i.innerHTML);V.removeChild(i)}),Y(V.innerHTML)}})}),It().then(V=>{f.updateLoginInfo(V.data)});const te=ot("reload"),ue=()=>{Nt().then(V=>{te()})},D=()=>{l.push("/admin/site-setting")};return(V,i)=>{const b=jt,S=ol,z=je,ae=No,M=nl,le=To,J=$o,q=Bo,F=al,K=sl,X=Co,x=qt,B=Zt,W=Yt,G=Xt,y=xo,Me=mt,de=ct,Be=yo,Q=po,me=go,Ye=Xl;return m(),h(re,null,[d("div",Zo,[d("div",Yo,[a(Ko),a(b,{class:"h-12",items:e(p),onBreadcrumbClick:O},null,8,["items"])]),d("div",Xo,[e(Oe)?(m(),h("div",Wo,[e(f).globalConfig.debugMode?(m(),E(z,{key:0,placement:"bottom"},{content:g(()=>i[5]||(i[5]=[$(" 此功能为 DEBUG 模式下重置管理员密码功能, 使用完后请关闭 DEBUG 模式并重启服务. ")])),default:g(()=>[a(S,{size:"default",onClick:L,type:"danger"},{default:g(()=>i[6]||(i[6]=[$(" 重置管理员密码 ")])),_:1,__:[6]})]),_:1})):P("",!0),e(f).loginInfo.isLogin?(m(),E(K,{key:1,trigger:"click"},{dropdown:g(()=>[a(F,{class:"font-medium"},{default:g(()=>[a(M,null,{default:g(()=>[d("span",Oo,Pe(e(f).loginInfo.username)+Pe(e(f).loginInfo.nickname?"("+e(f).loginInfo.nickname+")":""),1)]),_:1}),e(f).loginInfo.isAdmin?(m(),E(M,{key:0,onClick:D},{default:g(()=>[a(le,{class:"mr-3"}),i[7]||(i[7]=$(" 前往后台 "))]),_:1,__:[7]})):P("",!0),a(M,{onClick:o},{default:g(()=>[a(J,{class:"mr-3"}),i[8]||(i[8]=$(" 修改密码 "))]),_:1,__:[8]}),a(M,{onClick:ue},{default:g(()=>[a(q,{class:"mr-3"}),i[9]||(i[9]=$(" 注销 "))]),_:1,__:[9]})]),_:1})]),default:g(()=>[a(ae,{class:"w-6 h-6 text-gray-500 hover:text-blue-500"})]),_:1})):e(f).globalConfig.showLogin?(m(),E(z,{key:2,placement:"bottom"},{content:g(()=>i[10]||(i[10]=[$(" 登录账号 ")])),default:g(()=>[d("div",{onClick:R},[a(X,{class:"w-5 h-6 text-gray-500 hover:text-blue-500"})])]),_:1})):P("",!0),e(r).params.storageKey&&(e(f).permission.upload||e(f).permission.newFolder)?(m(),E(K,{key:3,trigger:"click","popper-class":"zfile-header-dropdown"},{dropdown:g(()=>[a(F,{class:"font-medium"},{default:g(()=>[e(f).permission.newFolder?(m(),E(M,{key:0,onClick:e(Z)},{default:g(()=>[a(B,{class:"mr-3"}),i[11]||(i[11]=$(" 新建文件夹 "))]),_:1,__:[11]},8,["onClick"])):P("",!0),e(f).permission.upload?(m(),E(M,{key:1,onClick:e(T),divided:e(f).permission.upload&&e(f).permission.newFolder},{default:g(()=>[a(W,{class:"mr-3"}),i[12]||(i[12]=$(" 上传文件 "))]),_:1,__:[12]},8,["onClick","divided"])):P("",!0),e(f).permission.uploadFolder?(m(),E(M,{key:2,onClick:e(H)},{default:g(()=>[a(G,{class:"mr-3"}),i[13]||(i[13]=$(" 上传文件夹 "))]),_:1,__:[13]},8,["onClick"])):P("",!0)]),_:1})]),default:g(()=>[Ie(d("div",null,[a(x,{value:e(U).totalUploadingAndWaiting,hidden:e(U).totalUploadingAndWaiting===0,max:99,class:"!block"},{default:g(()=>[a(e(Kl),{class:"w-6 h-6 text-gray-500 hover:text-blue-500"})]),_:1},8,["value","hidden"])],512),[[Ne,e(r).params.storageKey]])]),_:1})):P("",!0),Ie(d("div",{onClick:i[0]||(i[0]=ee=>e(v).imgMode=!e(v).imgMode)},[e(v).imgMode?(m(),E(y,{key:0,class:"w-5 h-6 text-blue-400"})):(m(),E(y,{key:1,class:"w-5 h-6"}))],512),[[Ne,e(r).params.storageKey]]),d("div",{onClick:i[1]||(i[1]=(...ee)=>e(w)&&e(w)(...ee))},[a(e(De),{class:"w-6 h-6"})])])):P("",!0),e(Oe)?(m(),h("div",qo,[a(de,{size:"default",modelValue:e(s),"onUpdate:modelValue":i[2]||(i[2]=ee=>ke(s)?s.value=ee:null),placeholder:"请选择存储源"},{default:g(()=>[(m(!0),h(re,null,he(e(_),ee=>(m(),E(Me,{key:ee.key,label:ee.name,value:ee.key},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])):P("",!0)]),e(at)?(m(),h("div",Go,[a(K,{trigger:"click"},{dropdown:g(()=>[a(F,null,{default:g(()=>[e(f).globalConfig.debugMode?(m(),E(M,{key:0,onClick:L},{default:g(()=>[a(Be,{class:"w-4 h-4 mr-2 text-gray-500",name:"key"}),i[14]||(i[14]=$(" 重置管理员密码 "))]),_:1,__:[14]})):P("",!0),e(r).params.storageKey&&e(f).permission.newFolder?(m(),E(M,{key:1,onClick:e(Z)},{default:g(()=>[a(B,{class:"w-4 h-4 mr-2 text-gray-500",name:"add-folder"}),i[15]||(i[15]=$(" 新建文件夹 "))]),_:1,__:[15]},8,["onClick"])):P("",!0),e(r).params.storageKey&&e(f).permission.upload?(m(),E(M,{key:2,onClick:e(T)},{default:g(()=>[a(W,{class:"w-4 h-4 mr-2 text-gray-500",name:"upload"}),i[16]||(i[16]=$(" 上传文件 "))]),_:1,__:[16]},8,["onClick"])):P("",!0),e(r).params.storageKey&&e(f).permission.uploadFolder?(m(),E(M,{key:3,onClick:e(H)},{default:g(()=>[a(G,{class:"w-4 h-4 mr-2 text-gray-500",name:"upload-folder"}),i[17]||(i[17]=$(" 上传文件夹 "))]),_:1,__:[17]},8,["onClick"])):P("",!0),e(r).params.storageKey&&!e(v).imgMode?(m(),E(M,{key:4,onClick:i[3]||(i[3]=ee=>e(v).imgMode=!0)},{default:g(()=>[a(Q,{class:"w-4 h-4 mr-2 text-gray-500",name:"image"}),i[18]||(i[18]=$(" 打开画廊模式 "))]),_:1,__:[18]})):e(r).params.storageKey&&e(v).imgMode?(m(),E(M,{key:5,onClick:i[4]||(i[4]=ee=>e(v).imgMode=!1)},{default:g(()=>[a(Q,{class:"w-4 h-4 mr-2 text-blue-500",name:"image"}),i[19]||(i[19]=$(" 关闭画廊模式 "))]),_:1,__:[19]})):P("",!0),a(M,{onClick:e(w)},{default:g(()=>[a(e(De),{class:"w-4 h-4 mr-2 text-gray-500"}),i[20]||(i[20]=$(" 更多设置 "))]),_:1,__:[20]},8,["onClick"]),i[25]||(i[25]=d("div",{class:"border-gray-200 border-t"},null,-1)),e(f).loginInfo.isLogin?(m(),h(re,{key:6},[e(f).loginInfo.isAdmin?(m(),E(M,{key:0,onClick:D},{default:g(()=>[a(le,{class:"w-4 h-4 mr-2 text-gray-500",name:"admin"}),i[21]||(i[21]=$(" 前往后台 "))]),_:1,__:[21]})):P("",!0),a(M,{onClick:o},{default:g(()=>[a(J,{class:"w-4 h-4 mr-2 text-gray-500",name:"lock"}),i[22]||(i[22]=$(" 修改密码 "))]),_:1,__:[22]}),a(M,{onClick:ue},{default:g(()=>[a(q,{class:"w-4 h-4 mr-2 text-gray-500",name:"logout"}),i[23]||(i[23]=$(" 注销 "))]),_:1,__:[23]})],64)):e(f).globalConfig.showLogin?(m(),E(M,{key:7,onClick:R},{default:g(()=>[a(X,{class:"w-4 h-4 mr-2 text-gray-500",name:"login"}),i[24]||(i[24]=$(" 登录账号 "))]),_:1,__:[24]})):P("",!0)]),_:1,__:[25]})]),default:g(()=>[a(e(ll),{class:"block h-12 w-8","aria-hidden":"true"})]),_:1})])):P("",!0)]),a(me),a(Ye,{ref_key:"updatePwdDialogRef",ref:u},null,512),a(jo,{ref_key:"resetAdminPwdDialogRef",ref:C},null,512)],64)}}},Jo=Ce(Do,[["__scopeId","data-v-fa80e1ba"]]),Qo={__name:"Footer",setup(t){let l=ve();return(r,n)=>{var s,_;return m(),h("div",null,[Ie(d("a",{target:"_blank",class:"text-gray-500",href:"https://beian.miit.gov.cn/"},Pe((s=e(l).globalConfig)==null?void 0:s.icp)+" | ",513),[[Ne,(_=e(l).globalConfig)==null?void 0:_.icp]]),n[0]||(n[0]=$(" Powered by ")),n[1]||(n[1]=d("a",{target:"_blank",class:"text-gray-500",href:"https://github.com/zfile-dev/zfile"},"ZFile",-1))])}}};const en={__name:"file",setup(t){let l=ve(),r=nt();$t(()=>{_()});let n=st(),s=N(!1);const _=()=>{Wt().then(c=>{if(!c.data.installed){n.push("/install");return}if(l.updateGlobalConfig(c.data),c.data.guest){window.location.href=r.zfileConfig.baseUrl+"/guest";return}c.data.customAudioSuffix&&(_e.fileTypeMap.audio=c.data.customAudioSuffix.split(",")),c.data.customImageSuffix&&(_e.fileTypeMap.image=c.data.customImageSuffix.split(",")),c.data.customTextSuffix&&(_e.fileTypeMap.text=c.data.customTextSuffix.split(",")),c.data.customVideoSuffix&&(_e.fileTypeMap.video=c.data.customVideoSuffix.split(",")),c.data.customOfficeSuffix&&(_e.fileTypeMap.office=c.data.customOfficeSuffix.split(",")),s.value=!0}).catch(c=>{c.message==="Network Error"&&Re.error("加载失败，无法连接到服务端，请联系管理员.")})};return(c,p)=>{const f=yl,v=Lt("router-view"),u=hl,o=bl,C=wl;return e(s)?(m(),E(C,{key:0},{default:g(()=>{var L;return[a(f,null,{default:g(()=>[(m(),E(Ut,null,{default:g(()=>[a(Jo)]),_:1}))]),_:1}),a(u,{class:I("el-main-"+((L=e(l).globalConfig)==null?void 0:L.layout))},{default:g(()=>[a(v)]),_:1},8,["class"]),a(o,null,{default:g(()=>[a(Qo)]),_:1})]}),_:1})):P("",!0)}}},Rn=Ce(en,[["__scopeId","data-v-eaa305a6"]]);export{Rn as default};
