!function(){function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return o(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var O=0,r=function(){};return{s:r,n:function(){return O>=e.length?{done:!0}:{done:!1,value:e[O++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,l=!0,i=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return l=e.done,e},e:function(e){i=!0,a=e},f:function(){try{l||null==n.return||n.return()}finally{if(i)throw a}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=Array(t);o<t;o++)n[o]=e[o];return n}function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,r(n.key),n)}}function O(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),Object.defineProperty(e,"prototype",{writable:!1}),e}function r(t){var o=function(t,o){if("object"!=e(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var O=n.call(t,o||"default");if("object"!=e(O))return O;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===o?String:Number)(t)}(t,"string");return"symbol"==e(o)?o:o+""}System.register(["./index-legacy-1a4de3e7.js","./TextViewer-legacy-f9a1fc70.js","./useSetting-legacy-78eb2445.js","./request-legacy-61b983ae.js","./index-legacy-e574cec8.js","./index-legacy-c317e588.js","./path-legacy-63087d21.js","./base-legacy-173045dc.js","./dialog-legacy-5ef05c71.js","./index-legacy-b5baaeae.js","./vnode-legacy-bdad68af.js","./scroll-legacy-68db505b.js","./button-legacy-f53896dd.js","./overlay-legacy-6ebb9437.js","./refs-legacy-1635e56d.js","./button-group-legacy-2e59a83e.js","./popper-legacy-ef8fd66b.js","./scrollbar-legacy-0817fabf.js","./dropdown-item-legacy-e65a90d2.js","./index-legacy-1ae34dc2.js","./index-legacy-ea3d196e.js","./dropdown-legacy-648534c2.js","./input-legacy-bc871eba.js","./_initCloneObject-legacy-b35b9836.js","./_plugin-vue_export-helper-legacy-8fcf0e06.js","./index-legacy-47a1148a.js","./validator-legacy-a3ca6880.js","./index-legacy-a8e8db5f.js","./directive-legacy-64af483a.js","./select-legacy-8b64fa67.js","./index-legacy-183af9d3.js","./strings-legacy-b2510e8b.js","./debounce-legacy-321ba92e.js","./index-legacy-d493f4b0.js","./common-legacy-d041c2bc.js"],(function(e,o){"use strict";var n,r,a,l,i,s,c,u,f,g,p,S,v;return{setters:[function(e){n=e.C,r=e.E,a=e.L},function(e){l=e.s,i=e.t,s=e.L,c=e.E,u=e.j,f=e.l,g=e.a,p=e.i,S=e.b,v=e.m},null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){e("default",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=[z.data.of({autocomplete:A(e.elements||[],e.attributes||[])})];!1!==e.autoCloseTags&&t.push(k);return new s(z,t)}));function o(e){return 45==e||46==e||58==e||e>=65&&e<=90||95==e||e>=97&&e<=122||e>=161}var m=null,$=null,d=0;function x(e,t){var n,O=e.pos+t;if($==e&&d==O)return m;for(;9==(n=e.peek(t))||10==n||13==n||32==n;)t++;for(var r="";;){var a=e.peek(t);if(!o(a))break;r+=String.fromCharCode(a),t++}return $=e,d=O,m=r||null}function q(e,t){this.name=e,this.parent=t}var y=new n({start:null,shift:function(e,t,o,n){return 1==t?new q(x(n,1)||"",e):e},reduce:function(e,t){return 11==t&&e?e.parent:e},reuse:function(e,t,o,n){var O=t.type.id;return 1==O||13==O?new q(x(n,1)||"",e):e},strict:!1}),b=new r((function(e,t){if(60==e.next)if(e.advance(),47==e.next){e.advance();var o=x(e,0);if(!o)return e.acceptToken(5);if(t.context&&o==t.context.name)return e.acceptToken(2);for(var n=t.context;n;n=n.parent)if(n.name==o)return e.acceptToken(3,-2);e.acceptToken(4)}else if(33!=e.next&&63!=e.next)return e.acceptToken(1)}),{contextual:!0});function P(e,t){return new r((function(o){var n=0,O=t.charCodeAt(0);e:for(;!(o.next<0);o.advance(),n++)if(o.next==O){for(var r=1;r<t.length;r++)if(o.peek(r)!=t.charCodeAt(r))continue e;break}n&&o.acceptToken(e)}))}var T=P(36,"--\x3e"),h=P(37,"?>"),C=P(38,"]]>"),w=l({Text:i.content,"StartTag StartCloseTag EndTag SelfCloseEndTag":i.angleBracket,TagName:i.tagName,"MismatchedCloseTag/TagName":[i.tagName,i.invalid],AttributeName:i.attributeName,AttributeValue:i.attributeValue,Is:i.definitionOperator,"EntityReference CharacterReference":i.character,Comment:i.blockComment,ProcessingInst:i.processingInstruction,DoctypeDecl:i.documentMeta,Cdata:i.special(i.string)}),W=a.deserialize({version:14,states:",lOQOaOOOrOxO'#CfOzOpO'#CiO!tOaO'#CgOOOP'#Cg'#CgO!{OrO'#CrO#TOtO'#CsO#]OpO'#CtOOOP'#DT'#DTOOOP'#Cv'#CvQQOaOOOOOW'#Cw'#CwO#eOxO,59QOOOP,59Q,59QOOOO'#Cx'#CxO#mOpO,59TO#uO!bO,59TOOOP'#C|'#C|O$TOaO,59RO$[OpO'#CoOOOP,59R,59ROOOQ'#C}'#C}O$dOrO,59^OOOP,59^,59^OOOS'#DO'#DOO$lOtO,59_OOOP,59_,59_O$tOpO,59`O$|OpO,59`OOOP-E6t-E6tOOOW-E6u-E6uOOOP1G.l1G.lOOOO-E6v-E6vO%UO!bO1G.oO%UO!bO1G.oO%dOpO'#CkO%lO!bO'#CyO%zO!bO1G.oOOOP1G.o1G.oOOOP1G.w1G.wOOOP-E6z-E6zOOOP1G.m1G.mO&VOpO,59ZO&_OpO,59ZOOOQ-E6{-E6{OOOP1G.x1G.xOOOS-E6|-E6|OOOP1G.y1G.yO&gOpO1G.zO&gOpO1G.zOOOP1G.z1G.zO&oO!bO7+$ZO&}O!bO7+$ZOOOP7+$Z7+$ZOOOP7+$c7+$cO'YOpO,59VO'bOpO,59VO'mO!bO,59eOOOO-E6w-E6wO'{OpO1G.uO'{OpO1G.uOOOP1G.u1G.uO(TOpO7+$fOOOP7+$f7+$fO(]O!bO<<GuOOOP<<Gu<<GuOOOP<<G}<<G}O'bOpO1G.qO'bOpO1G.qO(hO#tO'#CnO(vO&jO'#CnOOOO1G.q1G.qO)UOpO7+$aOOOP7+$a7+$aOOOP<<HQ<<HQOOOPAN=aAN=aOOOPAN=iAN=iO'bOpO7+$]OOOO7+$]7+$]OOOO'#Cz'#CzO)^O#tO,59YOOOO,59Y,59YOOOO'#C{'#C{O)lO&jO,59YOOOP<<G{<<G{OOOO<<Gw<<GwOOOO-E6x-E6xOOOO1G.t1G.tOOOO-E6y-E6y",stateData:")z~OPQOSVOTWOVWOWWOXWOiXOyPO!QTO!SUO~OvZOx]O~O^`Oz^O~OPQOQcOSVOTWOVWOWWOXWOyPO!QTO!SUO~ORdO~P!SOteO!PgO~OuhO!RjO~O^lOz^O~OvZOxoO~O^qOz^O~O[vO`sOdwOz^O~ORyO~P!SO^{Oz^O~OteO!P}O~OuhO!R!PO~O^!QOz^O~O[!SOz^O~O[!VO`sOd!WOz^O~Oa!YOz^O~Oz^O[mX`mXdmX~O[!VO`sOd!WO~O^!]Oz^O~O[!_Oz^O~O[!aOz^O~O[!cO`sOd!dOz^O~O[!cO`sOd!dO~Oa!eOz^O~Oz^O{!gO}!hO~Oz^O[ma`madma~O[!kOz^O~O[!lOz^O~O[!mO`sOd!nO~OW!qOX!qO{!sO|!qO~OW!tOX!tO}!sO!O!tO~O[!vOz^O~OW!qOX!qO{!yO|!qO~OW!tOX!tO}!yO!O!tO~O",goto:"%cxPPPPPPPPPPyyP!PP!VPP!`!jP!pyyyP!v!|#S$[$k$q$w$}%TPPPP%ZXWORYbXRORYb_t`qru!T!U!bQ!i!YS!p!e!fR!w!oQdRRybXSORYbQYORmYQ[PRn[Q_QQkVjp_krz!R!T!X!Z!^!`!f!j!oQr`QzcQ!RlQ!TqQ!XsQ!ZtQ!^{Q!`!QQ!f!YQ!j!]R!o!eQu`S!UqrU![u!U!bR!b!TQ!r!gR!x!rQ!u!hR!z!uQbRRxbQfTR|fQiUR!OiSXOYTaRb",nodeNames:"âš  StartTag StartCloseTag MissingCloseTag StartCloseTag StartCloseTag Document Text EntityReference CharacterReference Cdata Element EndTag OpenTag TagName Attribute AttributeName Is AttributeValue CloseTag SelfCloseEndTag SelfClosingTag Comment ProcessingInst MismatchedCloseTag DoctypeDecl",maxTerm:50,context:y,nodeProps:[["closedBy",1,"SelfCloseEndTag EndTag",13,"CloseTag MissingCloseTag"],["openedBy",12,"StartTag StartCloseTag",19,"OpenTag",20,"StartTag"],["isolate",-6,13,18,19,21,22,24,""]],propSources:[w],skippedNodes:[0],repeatNodeCount:9,tokenData:"!)v~R!YOX$qXY)iYZ)iZ]$q]^)i^p$qpq)iqr$qrs*vsv$qvw+fwx/ix}$q}!O0[!O!P$q!P!Q2z!Q![$q![!]4n!]!^$q!^!_8U!_!`!#t!`!a!$l!a!b!%d!b!c$q!c!}4n!}#P$q#P#Q!'W#Q#R$q#R#S4n#S#T$q#T#o4n#o%W$q%W%o4n%o%p$q%p&a4n&a&b$q&b1p4n1p4U$q4U4d4n4d4e$q4e$IS4n$IS$I`$q$I`$Ib4n$Ib$Kh$q$Kh%#t4n%#t&/x$q&/x&Et4n&Et&FV$q&FV;'S4n;'S;:j8O;:j;=`)c<%l?&r$q?&r?Ah4n?Ah?BY$q?BY?Mn4n?MnO$qi$zXVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_;'S$q;'S;=`)c<%lO$qa%nVVP!O`Ov%gwx&Tx!^%g!^!_&o!_;'S%g;'S;=`'W<%lO%gP&YTVPOv&Tw!^&T!_;'S&T;'S;=`&i<%lO&TP&lP;=`<%l&T`&tS!O`Ov&ox;'S&o;'S;=`'Q<%lO&o`'TP;=`<%l&oa'ZP;=`<%l%gX'eWVP|WOr'^rs&Tsv'^w!^'^!^!_'}!_;'S'^;'S;=`(i<%lO'^W(ST|WOr'}sv'}w;'S'};'S;=`(c<%lO'}W(fP;=`<%l'}X(lP;=`<%l'^h(vV|W!O`Or(ors&osv(owx'}x;'S(o;'S;=`)]<%lO(oh)`P;=`<%l(oi)fP;=`<%l$qo)t`VP|W!O`zUOX$qXY)iYZ)iZ]$q]^)i^p$qpq)iqr$qrs%gsv$qwx'^x!^$q!^!_(o!_;'S$q;'S;=`)c<%lO$qk+PV{YVP!O`Ov%gwx&Tx!^%g!^!_&o!_;'S%g;'S;=`'W<%lO%g~+iast,n![!]-r!c!}-r#R#S-r#T#o-r%W%o-r%p&a-r&b1p-r4U4d-r4e$IS-r$I`$Ib-r$Kh%#t-r&/x&Et-r&FV;'S-r;'S;:j/c?&r?Ah-r?BY?Mn-r~,qQ!Q![,w#l#m-V~,zQ!Q![,w!]!^-Q~-VOX~~-YR!Q![-c!c!i-c#T#Z-c~-fS!Q![-c!]!^-Q!c!i-c#T#Z-c~-ug}!O-r!O!P-r!Q![-r![!]-r!]!^/^!c!}-r#R#S-r#T#o-r$}%O-r%W%o-r%p&a-r&b1p-r1p4U-r4U4d-r4e$IS-r$I`$Ib-r$Je$Jg-r$Kh%#t-r&/x&Et-r&FV;'S-r;'S;:j/c?&r?Ah-r?BY?Mn-r~/cOW~~/fP;=`<%l-rk/rW}bVP|WOr'^rs&Tsv'^w!^'^!^!_'}!_;'S'^;'S;=`(i<%lO'^k0eZVP|W!O`Or$qrs%gsv$qwx'^x}$q}!O1W!O!^$q!^!_(o!_;'S$q;'S;=`)c<%lO$qk1aZVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_!`$q!`!a2S!a;'S$q;'S;=`)c<%lO$qk2_X!PQVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_;'S$q;'S;=`)c<%lO$qm3TZVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_!`$q!`!a3v!a;'S$q;'S;=`)c<%lO$qm4RXdSVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_;'S$q;'S;=`)c<%lO$qo4{!P`S^QVP|W!O`Or$qrs%gsv$qwx'^x}$q}!O4n!O!P4n!P!Q$q!Q![4n![!]4n!]!^$q!^!_(o!_!c$q!c!}4n!}#R$q#R#S4n#S#T$q#T#o4n#o$}$q$}%O4n%O%W$q%W%o4n%o%p$q%p&a4n&a&b$q&b1p4n1p4U4n4U4d4n4d4e$q4e$IS4n$IS$I`$q$I`$Ib4n$Ib$Je$q$Je$Jg4n$Jg$Kh$q$Kh%#t4n%#t&/x$q&/x&Et4n&Et&FV$q&FV;'S4n;'S;:j8O;:j;=`)c<%l?&r$q?&r?Ah4n?Ah?BY$q?BY?Mn4n?MnO$qo8RP;=`<%l4ni8]Y|W!O`Oq(oqr8{rs&osv(owx'}x!a(o!a!b!#U!b;'S(o;'S;=`)]<%lO(oi9S_|W!O`Or(ors&osv(owx'}x}(o}!O:R!O!f(o!f!g;e!g!}(o!}#ODh#O#W(o#W#XLp#X;'S(o;'S;=`)]<%lO(oi:YX|W!O`Or(ors&osv(owx'}x}(o}!O:u!O;'S(o;'S;=`)]<%lO(oi;OV!QP|W!O`Or(ors&osv(owx'}x;'S(o;'S;=`)]<%lO(oi;lX|W!O`Or(ors&osv(owx'}x!q(o!q!r<X!r;'S(o;'S;=`)]<%lO(oi<`X|W!O`Or(ors&osv(owx'}x!e(o!e!f<{!f;'S(o;'S;=`)]<%lO(oi=SX|W!O`Or(ors&osv(owx'}x!v(o!v!w=o!w;'S(o;'S;=`)]<%lO(oi=vX|W!O`Or(ors&osv(owx'}x!{(o!{!|>c!|;'S(o;'S;=`)]<%lO(oi>jX|W!O`Or(ors&osv(owx'}x!r(o!r!s?V!s;'S(o;'S;=`)]<%lO(oi?^X|W!O`Or(ors&osv(owx'}x!g(o!g!h?y!h;'S(o;'S;=`)]<%lO(oi@QY|W!O`Or?yrs@psv?yvwA[wxBdx!`?y!`!aCr!a;'S?y;'S;=`Db<%lO?ya@uV!O`Ov@pvxA[x!`@p!`!aAy!a;'S@p;'S;=`B^<%lO@pPA_TO!`A[!`!aAn!a;'SA[;'S;=`As<%lOA[PAsOiPPAvP;=`<%lA[aBQSiP!O`Ov&ox;'S&o;'S;=`'Q<%lO&oaBaP;=`<%l@pXBiX|WOrBdrsA[svBdvwA[w!`Bd!`!aCU!a;'SBd;'S;=`Cl<%lOBdXC]TiP|WOr'}sv'}w;'S'};'S;=`(c<%lO'}XCoP;=`<%lBdiC{ViP|W!O`Or(ors&osv(owx'}x;'S(o;'S;=`)]<%lO(oiDeP;=`<%l?yiDoZ|W!O`Or(ors&osv(owx'}x!e(o!e!fEb!f#V(o#V#WIr#W;'S(o;'S;=`)]<%lO(oiEiX|W!O`Or(ors&osv(owx'}x!f(o!f!gFU!g;'S(o;'S;=`)]<%lO(oiF]X|W!O`Or(ors&osv(owx'}x!c(o!c!dFx!d;'S(o;'S;=`)]<%lO(oiGPX|W!O`Or(ors&osv(owx'}x!v(o!v!wGl!w;'S(o;'S;=`)]<%lO(oiGsX|W!O`Or(ors&osv(owx'}x!c(o!c!dH`!d;'S(o;'S;=`)]<%lO(oiHgX|W!O`Or(ors&osv(owx'}x!}(o!}#OIS#O;'S(o;'S;=`)]<%lO(oiI]V|W!O`yPOr(ors&osv(owx'}x;'S(o;'S;=`)]<%lO(oiIyX|W!O`Or(ors&osv(owx'}x#W(o#W#XJf#X;'S(o;'S;=`)]<%lO(oiJmX|W!O`Or(ors&osv(owx'}x#T(o#T#UKY#U;'S(o;'S;=`)]<%lO(oiKaX|W!O`Or(ors&osv(owx'}x#h(o#h#iK|#i;'S(o;'S;=`)]<%lO(oiLTX|W!O`Or(ors&osv(owx'}x#T(o#T#UH`#U;'S(o;'S;=`)]<%lO(oiLwX|W!O`Or(ors&osv(owx'}x#c(o#c#dMd#d;'S(o;'S;=`)]<%lO(oiMkX|W!O`Or(ors&osv(owx'}x#V(o#V#WNW#W;'S(o;'S;=`)]<%lO(oiN_X|W!O`Or(ors&osv(owx'}x#h(o#h#iNz#i;'S(o;'S;=`)]<%lO(oi! RX|W!O`Or(ors&osv(owx'}x#m(o#m#n! n#n;'S(o;'S;=`)]<%lO(oi! uX|W!O`Or(ors&osv(owx'}x#d(o#d#e!!b#e;'S(o;'S;=`)]<%lO(oi!!iX|W!O`Or(ors&osv(owx'}x#X(o#X#Y?y#Y;'S(o;'S;=`)]<%lO(oi!#_V!SP|W!O`Or(ors&osv(owx'}x;'S(o;'S;=`)]<%lO(ok!$PXaQVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_;'S$q;'S;=`)c<%lO$qo!$wX[UVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_;'S$q;'S;=`)c<%lO$qk!%mZVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_!`$q!`!a!&`!a;'S$q;'S;=`)c<%lO$qk!&kX!RQVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_;'S$q;'S;=`)c<%lO$qk!'aZVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_#P$q#P#Q!(S#Q;'S$q;'S;=`)c<%lO$qk!(]ZVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_!`$q!`!a!)O!a;'S$q;'S;=`)c<%lO$qk!)ZXxQVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_;'S$q;'S;=`)c<%lO$q",tokenizers:[b,T,h,C,0,1,2,3,4],topRules:{Document:[0,6]},tokenPrec:0});function j(e,t){var o=t&&t.getChild("TagName");return o?e.sliceString(o.from,o.to):""}function Q(e,t){var o=t&&t.firstChild;return o&&"OpenTag"==o.name?j(e,o):""}function V(e){for(var t=e&&e.parent;t;t=t.parent)if("Element"==t.name)return t;return null}var X=O((function e(t,o,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.attrs=o,this.attrValues=n,this.children=[],this.name=t.name,this.completion=Object.assign(Object.assign({type:"type"},t.completion||{}),{label:this.name}),this.openCompletion=Object.assign(Object.assign({},this.completion),{label:"<"+this.name}),this.closeCompletion=Object.assign(Object.assign({},this.completion),{label:"</"+this.name+">",boost:2}),this.closeNameCompletion=Object.assign(Object.assign({},this.completion),{label:this.name+">"}),this.text=t.textContent?t.textContent.map((function(e){return{label:e,type:"text"}})):[]})),_=/^[:\-\.\w\u00b7-\uffff]*$/;function E(e){return Object.assign(Object.assign({type:"property"},e.completion||{}),{label:e.name})}function R(e){return"string"==typeof e?{label:'"'.concat(e,'"'),type:"constant"}:/^"/.test(e.label)?e:Object.assign(Object.assign({},e),{label:'"'.concat(e.label,'"')})}function A(e,o){var n,O=[],r=[],a=Object.create(null),l=t(o);try{for(l.s();!(n=l.n()).done;){var i=n.value,s=E(i);O.push(s),i.global&&r.push(s),i.values&&(a[i.name]=i.values.map(R))}}catch(b){l.e(b)}finally{l.f()}var c,f=[],g=[],p=Object.create(null),S=t(e);try{var v=function(){var e=c.value,t=r,o=a;e.attributes&&(t=t.concat(e.attributes.map((function(e){return"string"==typeof e?O.find((function(t){return t.label==e}))||{label:e,type:"property"}:(e.values&&(o==a&&(o=Object.create(o)),o[e.name]=e.values.map(R)),E(e))}))));var n=new X(e,t,o);p[n.name]=n,f.push(n),e.top&&g.push(n)};for(S.s();!(c=S.n()).done;)v()}catch(b){S.e(b)}finally{S.f()}g.length||(g=f);for(var m=0;m<f.length;m++){var $=e[m],d=f[m];if($.children){var x,q=t($.children);try{for(q.s();!(x=q.n()).done;){var y=x.value;p[y]&&d.children.push(p[y])}}catch(b){q.e(b)}finally{q.f()}}else d.children=f}return function(e){var t,o=e.state.doc,n=function(e,t){for(var o,n=u(e).resolveInner(t,-1),O=null,r=n;!O&&r.parent;r=r.parent)"OpenTag"!=r.name&&"CloseTag"!=r.name&&"SelfClosingTag"!=r.name&&"MismatchedCloseTag"!=r.name||(O=r);if(O&&(O.to>t||O.lastChild.type.isError)){var a=O.parent;if("TagName"==n.name)return"CloseTag"==O.name||"MismatchedCloseTag"==O.name?{type:"closeTag",from:n.from,context:a}:{type:"openTag",from:n.from,context:V(a)};if("AttributeName"==n.name)return{type:"attrName",from:n.from,context:O};if("AttributeValue"==n.name)return{type:"attrValue",from:n.from,context:O};var l=n==O||"Attribute"==n.name?n.childBefore(t):n;return"StartTag"==(null==l?void 0:l.name)?{type:"openTag",from:t,context:V(a)}:"StartCloseTag"==(null==l?void 0:l.name)&&l.to<=t?{type:"closeTag",from:t,context:a}:"Is"==(null==l?void 0:l.name)?{type:"attrValue",from:t,context:O}:l?{type:"attrName",from:t,context:O}:null}if("StartCloseTag"==n.name)return{type:"closeTag",from:t,context:n.parent};for(;n.parent&&n.to==t&&!(null===(o=n.lastChild)||void 0===o?void 0:o.type.isError);)n=n.parent;return"Element"==n.name||"Text"==n.name||"Document"==n.name?{type:"tag",from:t,context:"Element"==n.name?n:V(n)}:null}(e.state,e.pos);if(!n||"tag"==n.type&&!e.explicit)return null;var O=n.type,l=n.from,i=n.context;if("openTag"==O){var s=g,c=Q(o,i);if(c){var S=p[c];s=(null==S?void 0:S.children)||f}return{from:l,options:s.map((function(e){return e.completion})),validFor:_}}if("closeTag"==O){var v=Q(o,i);return v?{from:l,to:e.pos+(">"==o.sliceString(e.pos,e.pos+1)?1:0),options:[(null===(t=p[v])||void 0===t?void 0:t.closeNameCompletion)||{label:v+">",type:"type"}],validFor:_}:null}if("attrName"==O){var m=p[j(o,i)];return{from:l,options:(null==m?void 0:m.attrs)||r,validFor:_}}if("attrValue"==O){var $=function(e,t,o){var n=t&&t.getChildren("Attribute").find((function(e){return e.from<=o&&e.to>=o})),O=n&&n.getChild("AttributeName");return O?e.sliceString(O.from,O.to):""}(o,i,l);if(!$)return null;var d=p[j(o,i)],x=((null==d?void 0:d.attrValues)||a)[$];return x&&x.length?{from:l,to:e.pos+('"'==o.sliceString(e.pos,e.pos+1)?1:0),options:x,validFor:/^"[^"]*"?$/}:null}if("tag"==O){var q=Q(o,i),y=p[q],b=[],P=i&&i.lastChild;!q||P&&"CloseTag"==P.name&&j(o,P)==q||b.push(y?y.closeCompletion:{label:"</"+q+">",type:"type",boost:2});var T=b.concat(((null==y?void 0:y.children)||(i?f:g)).map((function(e){return e.openCompletion})));if(i&&(null==y?void 0:y.text.length)){var h=i.firstChild;h.to>e.pos-20&&!/\S/.test(e.state.sliceDoc(h.to,e.pos))&&(T=T.concat(y.text))}return{from:l,options:T,validFor:/^<\/?[:\-\.\w\u00b7-\uffff]*$/}}return null}}var z=g.define({name:"xml",parser:W.configure({props:[p.add({Element:function(e){var t=/^\s*<\//.test(e.textAfter);return e.lineIndent(e.node.from)+(t?0:e.unit)},"OpenTag CloseTag SelfClosingTag":function(e){return e.column(e.node.from)+e.unit}}),S.add({Element:function(e){var t=e.firstChild,o=e.lastChild;return t&&"OpenTag"==t.name?{from:t.to,to:"CloseTag"==o.name?o.from:e.to}:null}}),v.add({"OpenTag CloseTag":function(e){return e.getChild("TagName")}})]}),languageData:{commentTokens:{block:{open:"\x3c!--",close:"--\x3e"}},indentOnInput:/^\s*<\/$/}});function G(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;if(!t)return"";var n=t.firstChild,O=n&&n.getChild("TagName");return O?e.sliceString(O.from,Math.min(O.to,o)):""}var k=c.inputHandler.of((function(e,t,o,n,O){if(e.composing||e.state.readOnly||t!=o||">"!=n&&"/"!=n||!z.isActiveAt(e.state,t,-1))return!1;var r=O(),a=r.state,l=a.changeByRange((function(e){var t,o,O,r,l=e.head,i=a.doc.sliceString(l-1,l)==n,s=u(a).resolveInner(l,-1);if(i&&">"==n&&"EndTag"==s.name){var c=s.parent;if("CloseTag"!=(null===(o=null===(t=c.parent)||void 0===t?void 0:t.lastChild)||void 0===o?void 0:o.name)&&(r=G(a.doc,c.parent,l)))return{range:e,changes:{from:l,to:l+(">"===a.doc.sliceString(l,l+1)?1:0),insert:"</".concat(r,">")}}}else if(i&&"/"==n&&"StartCloseTag"==s.name){var g=s.parent;if(s.from==l-2&&"CloseTag"!=(null===(O=g.lastChild)||void 0===O?void 0:O.name)&&(r=G(a.doc,g,l))){var p=l+(">"===a.doc.sliceString(l,l+1)?1:0),S="".concat(r,">");return{range:f.cursor(l+S.length,-1),changes:{from:l,to:p,insert:S}}}}return{range:e}}));return!l.changes.empty&&(e.dispatch([r,a.update(l,{userEvent:"input.complete",scrollIntoView:!0})]),!0)}))}}}))}();
