import{p as P,q as V,aH as _,aO as $,r as c,aU as q,bs as Z,c as B,B as S,ad as j,o as G,as as H,bt as D,aM as J}from"./index-008199ed.js";import{i as K,U as T,I,j as Q}from"./index-4ea0a277.js";import{t as W,e as X}from"./button-30635c71.js";import{b as Y}from"./index-8286893b.js";const R=P({center:Boolean,alignCenter:Boolean,closeIcon:{type:K},draggable:Boolean,overflow:Boolean,fullscreen:Boolean,headerClass:String,bodyClass:String,footerClass:String,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),ae={close:()=>!0},se=P({...R,appendToBody:Boolean,appendTo:{type:W.to.type,default:"body"},beforeClose:{type:V(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,headerClass:String,bodyClass:String,footerClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:Boolean,headerAriaLevel:{type:String,default:"2"}}),ue={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[T]:e=>_(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},ie=(e,l)=>{var m;const n=H().emit,{nextZIndex:C}=$();let p="";const h=I(),x=I(),t=c(!1),r=c(!1),i=c(!1),d=c((m=e.zIndex)!=null?m:C());let s,u;const E=q("namespace",Z),F=B(()=>{const o={},a="--".concat(E.value,"-dialog");return e.fullscreen||(e.top&&(o["".concat(a,"-margin-top")]=e.top),e.width&&(o["".concat(a,"-width")]=Q(e.width))),o}),O=B(()=>e.alignCenter?{display:"flex"}:{});function A(){n("opened")}function k(){n("closed"),n(T,!1),e.destroyOnClose&&(i.value=!1)}function w(){n("close")}function b(){u==null||u(),s==null||s(),e.openDelay&&e.openDelay>0?{stop:s}=D(()=>g(),e.openDelay):g()}function f(){s==null||s(),u==null||u(),e.closeDelay&&e.closeDelay>0?{stop:u}=D(()=>v(),e.closeDelay):v()}function y(){function o(a){a||(r.value=!0,t.value=!1)}e.beforeClose?e.beforeClose(o):f()}function L(){e.closeOnClickModal&&y()}function g(){J&&(t.value=!0)}function v(){t.value=!1}function M(){n("openAutoFocus")}function N(){n("closeAutoFocus")}function U(o){var a;((a=o.detail)==null?void 0:a.focusReason)==="pointer"&&o.preventDefault()}e.lockScroll&&Y(t);function z(){e.closeOnPressEscape&&y()}return S(()=>e.modelValue,o=>{o?(r.value=!1,b(),i.value=!0,d.value=X(e.zIndex)?C():d.value++,j(()=>{n("open"),l.value&&(l.value.parentElement.scrollTop=0,l.value.parentElement.scrollLeft=0,l.value.scrollTop=0)})):t.value&&f()}),S(()=>e.fullscreen,o=>{l.value&&(o?(p=l.value.style.transform,l.value.style.transform=""):l.value.style.transform=p)}),G(()=>{e.modelValue&&(t.value=!0,i.value=!0,b())}),{afterEnter:A,afterLeave:k,beforeLeave:w,handleClose:y,onModalClick:L,close:f,doClose:v,onOpenAutoFocus:M,onCloseAutoFocus:N,onCloseRequested:z,onFocusoutPrevented:U,titleId:h,bodyId:x,closed:r,style:F,overlayDialogStyle:O,rendered:i,visible:t,zIndex:d}};export{ae as a,se as b,ue as c,R as d,ie as u};
